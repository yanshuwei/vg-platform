!function(N,L){"use strict";var c="ht",W=N[c],j="innerHTML",r="className",A=null,Y="px",z=W.Default,E=z.getInternal(),o="0",k=function(){return document},S=function(O){return k().createElement(O)},e=function(){return S("canvas")},p=function(w,J,S){w.style.setProperty(J,S,A)},P=function(K,C,P){z.def(W.widget[K],C,P)},R=function(Q,Z){Q.appendChild(Z)},K=function(k,n){k.removeChild(n)},s=z.eventListenerOptionsFalse,v=(z.eventListenerOptionsTrue,function(F,U,M,l){F.addEventListener(U,M,l?s:s)}),f=function(G,t,$,Q){G.removeEventListener(t,$,Q?s:s)},H=z.isTouchable;E.addMethod(z,{menuLabelFont:(H?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),W.widget.Menu=function(h){var J=this,G=J._view=E.createView(null,J),Z=J.$1g=new W.widget.ContextMenu,Y=S("ul");Z._r=!0,Z._view[r]+=" ht-widget-dropdownmenu",G[r]="ht-widget-menu",Y[r]="header",p(G,"margin",o),p(G,"padding",o),p(G,"background",z.menuBackground),p(G,"-webkit-user-select","none"),p(G,"-moz-user-select","none"),p(G,"user-select","none"),p(G,"text-align","left"),p(G,"border-bottom",z.menuSeparatorWidth+"px solid "+z.menuSeparatorColor),p(G,"cursor","default"),p(G,"overflow","auto"),p(G,"white-space","nowrap"),p(G,"font",z.menuLabelFont),p(G,"color",z.menuLabelColor),p(G,"box-sizing","border-box"),p(G,"-moz-box-sizing","border-box"),p(Y,"list-style","none"),p(Y,"margin",o),p(Y,"padding",o),p(Y,"display","inline-block"),R(G,Y),J.setItems(h),J.$2g=function(L){J.$3g(L)},J.$4g=function(C){J.$5g(C)},J.$6g=function(y){J.$7g(y)},J.$8g=function(a){J.$9g(a)},J.$9b=function(N){J.$10g(N)},J._autoShow=!0,J.setAutoShow(!1),Z.afterHide=function(){J.$11g()},Z.afterShow=function(){J.$12g()},f(k(),"keydown",Z.$3b),J.$3b=function(V){J.$13g(V)},J.invalidate()},P("Menu",L,{_items:A,$14g:z.menuHoverBackground,$15g:z.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(F){var D=this;if(D.$21g=F,D.setItems(D._items),"largeicons"===F){for(var a=D._view.querySelectorAll(".header-item"),f=0,E=0;E<a.length;E++){var r=a[E];f=Math.max(f,r.clientWidth)}for(var E=0;E<a.length;E++){var r=a[E];p(r,"min-width",f+Y)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(z){this.$22g=z;for(var P=this._view.querySelectorAll(".header-item"),e=0;e<P.length;e++){var D=P[e];p(D,"margin-left",z+Y),p(D,"margin-right",z+Y)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(M){this.$23g=M;for(var n=this._view.querySelectorAll(".header-item"),L=0;L<n.length;L++){var Q=n[L];p(Q,"margin-top",M+Y),p(Q,"margin-bottom",M+Y)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(b){this.$24g=b,p(this._view,"text-align",b)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var o=this,w=o._enableGlobalKey;w===!1&&(v(k(),"keydown",o.$3b),o._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,f(k(),"keydown",this.$3b)},setHoverBackground:function(b){this.$14g=b},setHoverColor:function(d){this.$15g=d},setItems:function(u){var K=this,_=K._view,c=K.$21g;if(K._items=u,_.children[0][j]="",K.$16g={},u&&u.length){for(var f=_.children[0],P=0,J=k().createDocumentFragment();P<u.length;P++){var g=u[P],V=S("li"),i=S("span");if(g.icon){var y=e();y[r]="menu-item-icon","smallicons"===c?(p(y,"height","1.2em"),p(y,"width","1.2em"),p(y,"vertical-align","middle")):(p(y,"height","32px"),p(y,"width","32px"),p(y,"display","block"),p(y,"margin","0 auto")),y.$20g=g.icon,R(V,y)}V[r]="header-item",p(V,"display","inline-block"),p(V,"vertical-align","top"),p(V,"padding","0 1.2em"),p(V,"line-height","1.8em"),"largeicons"===c&&p(V,"text-align","center"),p(V,"background-color","rgba(0,0,0,0)"),V.setAttribute("data-index",P),K.$16g[P]=g.items,i[j]=g.label,"iconsonly"!==c&&R(V,i),R(J,V)}R(f,J)}},showDropdownMenu:function(w){var L=this,r=L.$16g[w],N=L.$1g,E=L._view.children[0].children[w],T=L.$17g;if(E&&E!==T){T&&L.hideDropdownMenu();var m=E.getBoundingClientRect(),X=z.getWindowInfo();L.$17g=E,N.setItems(r),N.show(m.left+X.left,m.top+m.height+X.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(h,O){var e=this,I=e._items;return I&&0!==I.length?e.$1g.getItemByProperty(h,O,I):A},$12g:function(){var I=this,b=I.$17g;b.style.background=I.$14g,b.style.color=I.$15g,I._autoShow||v(k(),H?"touchstart":"mousedown",I.$9b)},$11g:function(){var Y=this,m=Y.$17g;m&&(m.style.background="",m.style.color="",Y.$17g=A),f(k(),H?"touchstart":"mousedown",Y.$9b)},$10g:function(L){var H=this,l=H._view,g=H.$1g,P=l.children[0];!k().body.contains(l)||P.contains(L.target)||g._view.contains(L.target)||H.hideDropdownMenu()},$13g:function(q){var U=this,r=U.$1g;k().body.contains(U._view)&&r.$13b.$4b.call(r.$13b,q,U._items)},setAutoShow:function(W){var Y=this,r=Y.$1g,x=Y._view;Y._autoShow!==W&&(Y._autoShow?(f(x,"mouseover",Y.$2g),f(x,"mouseout",Y.$4g),f(r._view,"mouseout",Y.$4g),H||(v(x,"mouseover",Y.$8g),v(x,"mouseout",Y.$8g)),v(x,H?"touchstart":"mousedown",Y.$6g)):(f(x,"mouseover",Y.$8g),f(x,"mouseout",Y.$8g),f(x,H?"touchstart":"mousedown",Y.$6g),f(k(),H?"touchstart":"mousedown",Y.$9b),H||(v(x,"mouseover",Y.$2g),v(x,"mouseout",Y.$4g),v(r._view,"mouseout",Y.$4g))),Y._autoShow=W)},$3g:function(p){var j=this,q=j._view.children[0],c=p.target;if(q!==c&&q.contains(c)){for(;"header-item"!==c[r];)c=c.parentNode;j.showDropdownMenu(c.getAttribute("data-index"))}},$5g:function(i){var O=this,L=O._view.children[0],v=O.$1g,k=i.target,X=i.relatedTarget;!L.contains(k)&&!v._view.contains(k)||L.contains(X)||v._view.contains(X)||O.hideDropdownMenu()},$7g:function(n){n.preventDefault();var V=this,L=V._view.children[0],q=V.$1g,d=n.target;if(z.isLeftButton(n)&&L!==d&&L.contains(d))if(H){for(;"header-item"!==d[r];)d=d.parentNode;var G=d.getAttribute("data-index"),q=V.$1g,b=V._view.children[0].children[G],R=V.$17g;q.isShowing()&&V.hideDropdownMenu(),b!==R&&V.showDropdownMenu(G)}else if(q.isShowing())V.hideDropdownMenu();else{for(;"header-item"!==d[r];)d=d.parentNode;V.showDropdownMenu(d.getAttribute("data-index"))}},$9g:function(u){var X=this,q=X._view,x=X.$1g,i=u.target;if(q.contains(i)){for(var $=q.querySelectorAll(".header-item"),C=A,H=0;H<$.length;H++){var N=$[H];N.style.background="",N.style.color="","mouseover"===u.type?N.contains(i)&&(C=N):"mouseout"===u.type&&x.isShowing()&&X.$17g===N&&(C=N)}x.isShowing()&&(C||(C=X.$17g),X.showDropdownMenu(C.getAttribute("data-index"))),C&&(C.style.background=X.$14g,C.style.color=X.$15g)}},getShowingMenuIndex:function(){var K=this.$17g;return K?K.getAttribute("data-index"):-1},addTo:function(g){var E=this,i=E._view;R(g,i),E.invalidate()},dispose:function(){var $=this,w=$._view,R=$.$1g;w&&($._autoShow?(f(w,"mouseover",$.$2g),f(w,"mouseout",$.$4g),f(R._view,"mouseout",$.$4g)):(f(w,"mouseover",$.$8g),f(w,"mouseout",$.$8g),f(w,H?"touchstart":"mousedown",$.$6g),f(k(),H?"touchstart":"mousedown",$.$9b)),f(k(),"keydown",$.$3b),R.dispose(),w.parentNode&&K(w.parentNode,w),$._view=$.$1g=$.$16g=$._items=$.$17g=$.$2g=$.$4g=$.$6g=$.$8g=$.$9b=$.$3b=A)},$19g:function(B,i,d,q){var R=E.initContext(B);E.translateAndScale(R,0,0,1),R.clearRect(0,0,d,q),z.drawStretchImage(R,z.getImage(i),"fill",0,0,d,q),R.restore()},validateImpl:function(){var e,C,b,J=this,M=J._view,i=M.querySelectorAll(".menu-item-icon");for(b=0;b<i.length;b++){var q=i[b];e=q.clientWidth,C=q.clientHeight,e&&C&&(E.setCanvas(q,e,C),J.$19g(q,z.getImage(q.$20g),e,C))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);