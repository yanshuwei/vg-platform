!function(B,A,b){"use strict";var Q="ht",k=B[Q],L=k.Default,i=L.isTouchable,T=k.Color,K="px",t="0",w="innerHTML",W="className",D="position",G="absolute",X="width",l="height",E="left",R="top",F="right",g="bottom",S="max-width",$="max-height",H=null,I="none",V="",N=B.parseInt,J=B.setTimeout,u=L.getInternal(),h=L.animate,m=T.titleIconBackground,o=function(){return document},_=function(L){return o().createElement(L)},Y=function(){return _("div")},M=function(){return _("canvas")},n=function(b,C,l){b.style.setProperty(C,l,H)},e=function(R,t){return R.style.getPropertyValue(t)},y=function(K,u){K.appendChild(u)},O=function(y,p){y.removeChild(p)},c=L.eventListenerOptionsFalse,C=(L.eventListenerOptionsTrue,function(l,B,P,M){l.addEventListener(B,P,M?c:c)}),P=function($){var v=$.scrollWidth,g=$.scrollHeight;return $===o().body&&(v=Math.max(v,o().documentElement.scrollWidth),g=Math.max(g,o().documentElement.scrollHeight)),{width:v,height:g}},x=function(c){var n=c.touches[0];return n?n:c.changedTouches[0]};u.addMethod(L,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:m,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:m}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:m},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:m}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:m},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:m}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:m}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:m},{type:"rect",rect:[10,118,268,56],background:m},{type:"rect",rect:[10,213,268,56],background:m}]},panelTitleLabelColor:L.labelSelectColor,panelTitleLabelFont:L.labelFont,panelContentLabelFont:L.labelFont,panelTitleBackground:T.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:b},!0);var d=k.widget.Panel=function(V){var T=this,y=T._view=u.createView(null,T);T.$1i=0,T.$18i=new k.Notifier,T.$2i="leftTop",n(y,R,t),n(y,E,t),n(y,D,G),n(y,"overflow","hidden"),T._interactor=new U(T),T.setConfig(V),T.addEventListener(function(k){var x=T.getPanelConfig(k.id),Q=x.content;("beginRestore"===k.kind||"betweenResize"===k.kind||"endToggle"===k.kind)&&(Q&&Q.invalidate&&Q.invalidate(),x.items&&x.items.forEach(function(r){r&&r.content&&r.content.invalidate&&r.content.invalidate()}))})};L.def(d,A,{ms_v:1,_dragContainment:"parent",setConfig:function(B){function c(G){G.expanded=!G.expanded,I.togglePanel(G.id,!0,!0)}if(B){for(var I=this,J=I._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);I._config=B,I.$35i=[],B.expanded==H&&(B.expanded=B.expand!=H?B.expand:!0);var i=I._view,U=I.$24i(B,i,!0),q=U[2],e=B.width;I.$35i.push(U[1]),B.items&&B.items.forEach(function(y){y.expanded==H&&(y.expanded=y.expand!=H?y.expand:!0);var R=I.$24i(y,q.children[0]);I.$35i.push(R[1])});var E=Y();n(E,X,10+K),n(E,l,10+K),n(E,D,G),n(E,g,t),n(E,F,t),E[W]="resize-area",y(i,E),I.$10i(),B.flowLayout&&n(i,D,"relative"),n(i,"opacity",t),y(o().body,i),e==H&&(e=i.offsetWidth),n(i,X,e+K),n(i,S,e+K);var f=B.content;f&&f.isSelfViewEvent&&(f.setX(0),f.setY(0),f.setWidth(e-2*(B.borderWidth||0)),f.setHeight(B.contentHeight)),B.items&&B.items.forEach(function(w){c(w)}),B.buttons&&B.buttons.indexOf("toggle")<0||c(B),B.minimized==H&&B.minimize!=H&&(B.minimized=B.minimize),B.minimized&&B.minimizable!==!1&&I.minimize(!0),O(o().body,i),n(i,"opacity",V),J&&y(J,i),I.iv()}},getPanelConfig:function(Y){var N=this,U=N._config,s=U.items;if(U.id===Y)return U;if(s)for(var Z=0;Z<s.length;Z++){var L=s[Z];if(L.id===Y)return L}},getPanelView:function(Q){for(var x=this,G=x.$35i,y=0;y<G.length;y++){var f=G[y],Z=f.parentNode;if(Z.$15i===Q)return Z}},setDragContainment:function(c){this._dragContainment=c},getDragContainment:function(){return this._dragContainment},$20i:function(){var k=this._config,Z=k.restoreIconSize||24;return Z},$5i:function(I){var S=I.titleIconSize||16;return i&&(S*=1.2),S},$4i:function(p){var O=p.titleHeight||L.widgetTitleHeight;return O},setTitle:function(A,P){if(P==H&&(P=this._config.id),P!=H){var D=this.getPanelConfig(P),S=this.getPanelView(P);D.title=A,S.querySelector(".panel-title span").innerHTML=A}},setInnerPanel:function(c){var w,i,k=this,y=c.id,S=k.$35i,A=!1;if(c.expanded==H&&(c.expanded=!0),y!=H){var q=k.getPanelConfig(y);if(q){A=!0;var W,z=k.getPanelView(y),g=z.parentNode,o=z.children[0];if(z!==k._view){k.$11i();for(W in q)delete q.key;for(W in c)q[W]=c[W];w=k.$24i(c,g,!1,z),i=w[1],g.removeChild(z);for(var L=0;L<S.length;L++)if(S[L]===o){S.splice(L,1,i);break}k.$12i(),q.expanded=!q.expanded,k.togglePanel(q.id,!0,!0),k.iv()}}}if(!A){k.$11i(),w=k.$24i(c,k._view.children[1]),i=w[1],S.push(i),k._config.items||(k._config.items=[]);var s=k._config.items;if(s.push(c),k.$12i(),s.length>1){var F=s[s.length-2],X=k.getPanelView(F.id).children[0];n(X,"border-bottom",k.$55i(F))}c.expanded=!c.expanded,k.togglePanel(c.id,!0,!0),k.iv()}},removeInnerPanel:function(x){var m,z=this,I=-1,P=z._config.items;if(P)for(m=0;m<P.length;m++){var l=P[m];if(l.id===x){I=m;break}}if(z.$11i(),I>=0){var g=z.$35i,Q=z.getPanelView(x),D=Q.children[0];for(m=0;m<g.length;m++)if(g[m]===D){g.splice(m,1);break}P.splice(I,1),Q.parentNode.removeChild(Q)}if(z.$12i(),P.length>0){var L=P[P.length-1],R=z.getPanelView(L.id).children[0];n(R,"border-bottom",z.$55i(L))}},$6i:function(h){n(h,"cursor","pointer"),n(h,"display","inline-block"),n(h,"margin-right",(i?8:4)+K),n(h,"vertical-align",R)},$24i:function(N,m,T,F){var Q=this,R=Q._config.flowLayout,i=T?m:Y(),h=Q.$50i(N),w=Q.$3i(N,T);i[W]="ht-widget-panel"+(T?" outer-panel":" inner-panel"),N.borderWidth==H&&(N.borderWidth=T?2:0);var J=N.borderWidth;if(J="0 "+J+K+" "+J+K+" "+J+K+" ",n(i,"border-width",J),n(i,"border-color",N.titleBackground||L.panelTitleBackground),n(i,"border-style","solid"),y(i,w),y(i,h),T||(F?m.insertBefore(i,F):y(m,i)),!R&&T&&N.minimizable!==!1){var V=M(),U=Q.$20i(),e=N.restoreToolTip;u.setCanvas(V,U,U),V[W]="control-button button-minimize button-minimize-restore",Q.$6i(V),n(V,"display","none"),y(m,V),V.title=e||""}var z=N.panelBackground||N.titleBackground||L.panelTitleBackground;if(n(i,"background-color",z),N.id==H){for(var B=Q.$1i++;Q.getPanelConfig(B);)B=Q.$1i++;N.id=B}return i.$15i=N.id,N.width&&(i.style.width=N.width+K),[i,w,h]},$9i:function(c){var E=M();E[W]="control-button button-toggle button-toggle-expand",E.title=c.toggleToolTip||"";var U=this.$4i(c),O=this.$5i(c);return this.$6i(E),u.setCanvas(E,O,U),E},$8i:function(X){var v=M(),L="control-button button-independent-switch";v[W]=X.independent===!0?L+" button-independent-switch-on":L+" button-independent-switch-off",v.title=X.independentSwitchToolTip||"";var o=this.$4i(X),G=this.$5i(X);return this.$6i(v),u.setCanvas(v,G,o),v},$7i:function(_){var x=M();x[W]="control-button button-minimize button-minimize-minimize",x.title=_.minimizeToolTip||"";var U=this.$4i(_),t=this.$5i(_);return this.$6i(x),u.setCanvas(x,t,U),x},$55i:function(i){var f=this._config,E=f.items,I=i.separatorWidth||L.panelSeparatorWidth,b=i.titleBackground||L.panelTitleBackground,h=i.expanded!==!1?b:i.separatorColor||L.panelSeparatorColor||L.brighter(b);return(f===i||E&&E.indexOf(i)===E.length-1)&&(I=0),I+K+" solid "+h},$3i:function(z,c){var C=this,P=C._config.flowLayout,v=Y(),j=Y(),p=C.$4i(z),H=z.titleBackground,x=z.titleColor,h=z.titleIcon,N=z.buttons;if(v[W]="panel-title",n(v,D,"relative"),n(v,"background",H||L.panelTitleBackground),n(v,"color",x||L.panelTitleLabelColor),n(v,R,t),n(v,"box-sizing","border-box"),n(v,"-moz-box-sizing","border-box"),n(v,"padding","0 5px 0 0"),n(v,X,"100%"),n(v,"cursor","default"),n(v,"white-space","nowrap"),n(v,"font",L.panelTitleLabelFont),h){var U=M();U[W]="control-button panel-title-icon";var l=C.$4i(z),o=C.$5i(z);C.$6i(U),u.setCanvas(U,o,l),y(v,U)}var q=_("span");n(q,"display","inline-block"),n(q,"margin-left","5px"),q[w]="<span>"+z.title+"</span>",y(v,q),n(v,"line-height",p+K),j[W]="panel-title-controls",n(j,D,G),n(j,E,t),n(j,F,5+K),n(j,R,t),n(j,g,t),n(j,"text-align",F);var B=function(){var l=C.$9i(z);y(j,l)},T=function(){if(!P&&c&&z.minimizable!==!1){var $=C.$7i(z);y(j,$)}},S=function(){if(!c){var u=C.$8i(z);y(j,u)}},d=function(N){var n=M();n[W]="control-button custombutton-"+N.name,n.title=N.toolTip||"",n._action=N.action;var d=C.$4i(z),t=C.$5i(z);C.$6i(n),u.setCanvas(n,t,d),y(j,n)};if(N)for(var b=0;b<N.length;b++){var a=N[b];"string"==typeof a?"minimize"===a?T():"independentSwitch"===a?S():"toggle"===a&&B():"object"==typeof a&&d(a)}else T(),B();return y(v,j),v},$50i:function(o){var B=Y(),C=o.contentHeight,g=Y();n(g,D,"relative"),B[W]="panel-body",n(B,"overflow","hidden");var Z=o.contentBackground;if(Z===b&&(Z="white"),n(B,"background",Z),n(B,"font",L.panelContentLabelFont),y(B,g),o.content){var S,t=o.content;t.getView?(y(g,t.getView()),S=g.children[0]):t instanceof Element?(y(g,t),S=g.children[0]):g[w]=t,t.isSelfViewEvent||S&&(n(S,X,"100%"),n(S,l,"100%")),C&&n(g,l,C+K)}return B},$10i:function(){var v=this,y=v._config,k=v._view,$=k.querySelector(".resize-area").style;$.display=y.flowLayout||y.minimized===!0||y.expanded===!1?I:"block"},$11i:function(){var Y=this._view,X=Y.children[1];this.$13i>=0?this.$13i++:this.$13i=1,n(X,$,V),n(Y,S,V)},$12i:function(){var o=--this.$13i;if(0===o){var l=this._view,i=l.children[1];n(i,$,i.scrollHeight+K),n(l,S,l.offsetWidth+K)}},$14i:function(){var T=this._view,b=T.children[0],K=b.children[1].children,M=this._config,v=0;T.$26i=T.offsetWidth,v+=b.children[0].offsetWidth,M.titleIcon&&(v+=b.children[1].offsetWidth,K=b.children[2].children);for(var F=0;F<K.length;F++){var X=K[F];v+=X.offsetWidth+5}T.$51i=v+15},togglePanel:function(L,Y,M){function d(x){var u=x.target,e=u.parentNode,$=Q.getPanelConfig(e.$15i);delete e.$19i,u!==F&&Q.$12i(),Q.$18i.fire({kind:"endToggle",target:Q,id:$.id})}for(var Q=this,c=Q._view,F=c.children[1],_=H,g=Q.$35i,O=g.length,P=Q._config.exclusive,C=Q.$2i,e=[],k=Q._config.narrowWhenCollapse,f=0;O>f;f++){var E=g[f],s=E.parentNode,T=s.$15i,u=Q.getPanelConfig(T);T===L&&(_=s),!Y&&P&&u.expanded&&s!==c&&T!==L&&u.independent!==!0&&e.push(s)}if(_&&!_.$19i){_.$19i=!0;var z=_.children[1],J=_.querySelector(".button-toggle"),x=Q.getPanelConfig(_.$15i);if(!J)return;_===c||x.expanded||x.independent===!0||e.forEach(function(m){Q.togglePanel(m.$15i,!0)}),_!==c&&Q.$11i();var l=200;if(M&&(l=0),Q.$18i.fire({kind:"beginToggle",target:Q,id:_.$15i}),x.expanded){var B=function(){J[W]="control-button button-toggle",J[W]+=C.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",n(z,X,z.clientWidth+K),x.expanded=!1,n(_.children[0],"border-bottom",Q.$55i(x)),h(z).duration(l).set("opacity",t).set($,t).end(d),k&&_===c&&h(_).duration(l).set(S,_.$51i+K).end(),_[W]+=" panel-collapse",h(_).duration(l).set("padding-bottom",t).end(),Q.$28i(x,!0),Q.$10i()};k&&_===c&&Q.$14i(),B()}else J[W]="control-button button-toggle",J[W]+=C.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",n(z,X,V),x.expanded=!0,n(_.children[0],"border-bottom",Q.$55i(x)),h(z).duration(l).set("opacity","1").set($,z.scrollHeight+K).end(d),k&&_===c&&h(_).duration(l).set(S,(_.$26i||_.offsetWidth)+K).end(),_[W]=_[W].replace(" panel-collapse",V),h(_).duration(l).end(),Q.$28i(x,!0),Q.$10i()}},$16i:function(){var h=this._view,k=h.$22i,J=h.$23i,Y=this.$2i;return k==H&&(Y.indexOf(E)>=0?k=h.$22i=0:Y.indexOf(F)>=0&&(k=h.$22i=100)),J==H&&(Y.indexOf("Top")>=0?J=h.$23i=0:Y.indexOf("Bottom")>=0&&(J=h.$23i=100)),[k,J]},$25i:function(){var X=this,d=X._view,f=d.$21i,A=X.$20i(),i=X.$16i(),B=i[0],q=i[1],k=X.$2i;d.children[0].style.display=I,d.children[1].style.display=I,d.children[2].style.display=V,n(d,"padding",t),n(d,S,A+K),"leftTop"===k?(n(d,E,N(e(d,E))+(f.width-A)*B/100+K),n(d,R,N(e(d,R))+(f.height-A)*q/100+K)):"leftBottom"===k?(n(d,E,N(e(d,E))+(f.width-A)*B/100+K),n(d,g,N(e(d,g))+(f.height-A)*(1-q/100)+K)):"rightTop"===k?(n(d,F,N(e(d,F))+(f.width-A)*(1-B/100)+K),n(d,R,N(e(d,R))+(f.height-A)*q/100+K)):"rightBottom"===k&&(n(d,F,N(e(d,F))+(f.width-A)*(1-B/100)+K),n(d,g,N(e(d,g))+(f.height-A)*(1-q/100)+K)),d[W]+=" panel-minimized",X.$18i.fire({kind:"endMinimize",target:X,id:d.$15i})},$17i:function(){var k=this,I=k._config,y=k._view;n(y,"-webkit-transform",V),n(y,"-ms-transform",V),n(y,"transform",V),I.minimized?k.$25i():(k.$18i.fire({kind:"endRestore",target:k,id:I.id}),y[W]=y[W].replace(" panel-minimized",V)),delete y.$19i},minimize:function(x){var K=this,T=K._view;if(!T.$19i&&T.children[0].style.display!==I){var Q=K._config,U=T.getBoundingClientRect(),u=K.$20i(),z=U.width,L=U.height,H=u/z,S=u/L,Y=K.$16i(),g=Y[0],e=Y[1];T.$52i=H,T.$53i=S,T.$21i=U,K.$18i.fire({kind:"beginMinimize",target:K,id:T.$15i});var p=200;x&&(p=0),Q.minimized=!0,T.$19i=!0,Q.expanded&&(T.$26i=T.offsetWidth);var c=g+"% "+e+"%";n(T,"-webkit-transform-origin",c),n(T,"-ms-transform-origin",c),n(T,"transform-origin",c),h(T).duration(p).scale(H,S).end(function(){K.$17i()}),K.$10i()}},restore:function(){var $,f,c,k,G,Z,D,B,Y,d,x,A,U=this,r=U._view,O=r.parentNode,i=U._config;if(!r.$19i&&i.minimized){var M=r.$21i,w=r.$52i,T=r.$53i,b=(i.borderWidth+K,U.$20i()),X=P(O),p=U.$2i;"leftTop"===p?($=N(e(r,E)),c=N(e(r,R)),G=$,D=c,Y=$+M.width-X.width,d=c+M.height-X.height,Y>0&&(Y>=$?$=0:$-=Y),d>0&&(d>=c?c=0:c-=d),x=100*((G-$)/(M.width-b)),A=100*((D-c)/(M.height-b)),n(r,E,$+K),n(r,R,c+K)):"leftBottom"===p?($=N(e(r,E)),k=N(e(r,g)),G=$,B=k,Y=$+M.width-X.width,d=k+M.height-X.height,Y>0&&(Y>=$?$=0:$-=Y),d>0&&(d>=k?k=0:k-=d),x=100*((G-$)/(M.width-b)),A=100*(1-(B-k)/(M.height-b)),n(r,E,$+K),n(r,g,k+K)):"rightTop"===p?(f=N(e(r,F)),c=N(e(r,R)),Z=f,D=c,Y=f+M.width-X.width,d=c+M.height-X.height,Y>0&&(Y>=f?f=0:f-=Y),d>0&&(d>=c?c=0:c-=d),x=100*(1-(Z-f)/(M.width-b)),A=100*((D-c)/(M.height-b)),n(r,F,f+K),n(r,R,c+K)):"rightBottom"===p&&(f=N(e(r,F)),k=N(e(r,g)),Z=f,B=k,Y=f+M.width-X.width,d=k+M.height-X.height,Y>0&&(Y>=f?f=0:f-=Y),d>0&&(d>=k?k=0:k-=d),x=100*(1-(Z-f)/(M.width-b)),A=100*(1-(B-k)/(M.height-b)),n(r,F,f+K),n(r,g,k+K)),r.children[0].style.display="block",r.children[1].style.display="block",r.children[2].style.display=I,n(r,"-webkit-transform","scale("+w+", "+T+")"),n(r,"-ms-transform","scale("+w+", "+T+")"),n(r,"transform","scale("+w+", "+T+")"),r.$22i=x,r.$23i=A,n(r,"-webkit-transform-origin",x+"% "+A+"%"),n(r,"-ms-transform-origin",x+"% "+A+"%"),n(r,"transform-origin",x+"% "+A+"%"),i.narrowWhenCollapse&&!i.expanded?n(r,S,r.$51i+K):n(r,S,r.$26i+K),U.$18i.fire({kind:"beginRestore",target:U,id:r.$15i}),r.$19i=!0,i.minimized=!1,J(function(){h(r).scale(1,1).end(function(){U.$17i()})},30),U.$10i()}},addEventListener:function(Q,p,P){this.$18i.add(Q,p,P)},removeEventListener:function(M,p){this.$18i.remove(M,p)},setPosition:function(D,I){var q=this._view,r=this.$2i;"leftTop"===r?(n(q,E,D+K),n(q,R,I+K),n(q,F,V),n(q,g,V)):"leftBottom"===r?(n(q,E,D+K),n(q,g,I+K),n(q,F,V),n(q,R,V)):"rightTop"===r?(n(q,F,D+K),n(q,R,I+K),n(q,E,V),n(q,g,V)):"rightBottom"===r&&(n(q,F,D+K),n(q,g,I+K),n(q,E,V),n(q,R,V)),delete q.$22i,delete q.$23i},getPosition:function(){var q=this._view,o=this.$2i;return"leftTop"===o?{x:N(e(q,E)),y:N(e(q,R))}:"leftBottom"===o?{x:N(e(q,E)),y:N(e(q,g))}:"rightTop"===o?{x:N(e(q,F)),y:N(e(q,R))}:"rightBottom"===o?{x:N(e(q,F)),y:N(e(q,g))}:void 0},setPositionRelativeTo:function(k){var b=this,d=b._view.querySelectorAll(".button-toggle"),p="control-button button-toggle",o=b.getPosition();b.$2i=k,b.setPosition(o.x,o.y);for(var K=0;K<d.length;K++){var C=d[K],X=b.getPanelConfig(C.parentNode.parentNode.parentNode.$15i);C[W]=X.expanded?k.indexOf("Bottom")>=0?p+" button-toggle-collapse":p+" button-toggle-expand":k.indexOf("Bottom")>=0?p+" button-toggle-expand":p+" button-toggle-collapse"}b.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(I){var $=this;$._68I||($._68I=1,L.callLater($.validate,$,H,I),$.onInvalidated&&$.onInvalidated(),$.fireViewEvent("invalidate"));var l=this._config,n=l.content;n&&n.invalidate&&n.invalidate(),l.items&&l.items.forEach(function(u){u&&u.content&&u.content.invalidate&&u.content.invalidate()})},getIconStretch:function(){var f=this._config.iconStretch||"fill";return f},$27i:function(t,k,j,I,P){var N=u.initContext(t);u.translateAndScale(N,0,0,1),N.clearRect(0,0,j,j);var Q=(j-I)/2;L.drawStretchImage(N,L.getImage(k),this.getIconStretch(P),0,Q,I,I),N.restore()},$28i:function(z){var q,t,K,U=this,F=z.id,l=U.getPanelView(F),Q=l.querySelector(".button-toggle"),p=U.$2i.indexOf("Bottom")>=0;if(t=p?L.panelCollapseIcon:L.panelExpandIcon,K=p?L.panelExpandIcon:L.panelCollapseIcon,Q){q=z.expanded?L.getImage(K):L.getImage(t);var S=U.$4i(z),I=U.$5i(z);U.$27i(Q,q,S,I,"toggle")}},$29i:function(R){var l,z=this,S=R.id,_=z.getPanelView(S),u=_.querySelector(".button-independent-switch"),i=L.panelUnLockIcon,y=L.panelLockIcon;if(u){l=R.independent!==!0?L.getImage(y):L.getImage(i);var B=z.$4i(R),Q=z.$5i(R);z.$27i(u,l,B,Q,"switch")}},$30i:function(Z){var K=this,X=Z.id,f=K.getPanelView(X),Y=f.querySelector(".button-minimize-minimize"),e=L.panelMinimizeIcon;if(Y){var W=K.$4i(Z),s=K.$5i(Z);K.$27i(Y,L.getImage(e),W,s,"miminize")}},$31i:function(k){var j=this,Q=k.id,F=j.getPanelView(Q),J=F.querySelector(".button-minimize-restore"),y=k.titleIcon||L.panelRestoreIcon;if(J){var V=j.$20i();j.$27i(J,L.getImage(y),V,V,"restore")}},$32i:function($){var j=this,C=$.id,g=j.getPanelView(C);if($.buttons){var h=$.buttons;h.forEach(function(w){var I=w.name,T=w.icon;if(I&&T){var a=g.querySelector(".custombutton-"+I);if(a){var H=j.$4i($),F=j.$5i($)-1;j.$27i(a,L.getImage(T),H,F,"custom")}}})}},$33i:function(F){var T=this,f=F.id,M=T.getPanelView(f),U=M.querySelector(".panel-title-icon"),C=F.titleIcon;if(U&&C){var q=T.$4i(F),D=T.$5i(F);T.$27i(U,L.getImage(C),q,D,"title")}},validateImpl:function(){var T=this,y=T._config;T.$28i(y),T.$30i(y),T.$31i(y),T.$32i(y),T.$33i(y),y.items&&y.items.forEach(function($){T.$28i($),T.$29i($),T.$32i($)})}});var U=function(T){var m=this,x=T.getView();m.$34i=T,m.addListeners(),C(x,"dblclick",m.$42i.bind(m))};L.def(U,A,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(x){for(var I=this.$34i,R=x.target,y=I.$35i,t=y.length,T=0;t>T;T++){var C=y[T];C.contains(R)&&(x.preventDefault(),I.togglePanel(C.parentNode.$15i))}},handle_touchstart:function(F){var t=this,k=t.$34i,K=k._config,n=K.flowLayout,_=F;if(L.preventDefault(F),L.isLeftButton(F)){var e=F.target,z=k.getView().children[0],s=k.getView().querySelector(".button-minimize-restore");i&&(_=x(F));var l=t.$40i={x:_.pageX,y:_.pageY};t.$41i={x:l.x,y:l.y},(!n&&z.contains(e)||s&&s.contains(e))&&(t.$38i=!0,L.startDragging(t,F)),!n&&t.handle_mousemove(F)&&(t.$37i=!0,L.startDragging(t,F),k.$11i())}},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchend:function(v){var r=this,E=r.$34i,q=v.target,O=E.$35i,M=O.length,B=0,h=E.getView(),T=h.querySelector(".button-minimize"),s=h.querySelector(".button-minimize-restore");if(!r.$39i&&!r.$36i){if(T&&T.contains(q)||s&&s.contains(q))v.preventDefault(),E._config.minimized?E.restore():E.minimize();else for(;M>B;B++){var g=O[B],t=g.parentNode,z=t.$15i,U=E.getPanelConfig(z),a=g.querySelector(".button-toggle"),I=g.querySelector(".button-independent-switch");if(a===q)v.preventDefault(),E.togglePanel(z);else if(I===q){v.preventDefault();var d="button-independent-switch-off",w="button-independent-switch-on";U.independent=U.independent==H?!0:!U.independent,I[W]=U.independent?I[W].replace(d,w):I[W].replace(w,d),E.$29i(U)}else q[W]&&q[W].indexOf("control-button custombutton-")>=0&&g.contains(q)&&q._action.call(E,U,E.getPanelView(z),v)}delete r.$40i,delete r.$41i}},handle_mouseup:function(W){this.handle_touchend(W)},handleWindowTouchEnd:function(){var U=this,W=U.$34i;U.$37i&&U.$36i?(W.$18i.fire({kind:"endResize",target:W,id:W.getView().$15i}),W.$12i()):U.$38i&&U.$39i&&W.$18i.fire({kind:"endMove",target:W,id:W.getView().$15i}),this.clear()},handleWindowMouseUp:function(P){this.handleWindowTouchEnd(P)},handle_mousemove:function(I){var _=this,Q=_.getView(),k=Q.querySelector(".resize-area"),h=k.getBoundingClientRect(),T={x:h.left,y:h.top,width:h.width,height:h.height};I=i?x(I):I;var r=I.clientX,f=I.clientY,B=_.$34i._config;return B.expanded&&B.minimized!==!0&&L.containsPoint(T,{x:r,y:f})?(Q.style.cursor="nwse-resize",!0):(Q.style.cursor=V,void 0)},handleWindowTouchMove:function(D){D.preventDefault();var O=D;i&&(O=x(D));var Q=this,H=Q.$40i,S=Q.$41i;if(!(S.x==H.x&&S.y==H.y&&L.getDistance(S,{x:O.pageX,y:O.pageY})<=1)){var p=Q.$34i,G=Q.getView(),o=G.parentNode,W=p._config,t=W.resizeMode||"wh",B=O.pageX-H.x,z=O.pageY-H.y,A=p.$2i;if(Q.$37i){var U=G.children[1].children[0],a=G.clientWidth,I=U.clientHeight,j=a+B,r=I+z;j=Math.max(j,100),r=Math.max(r,100),"w"===t?(n(G,X,j+K),W.width=j,H.x+=j-a,A.indexOf(F)>=0&&n(G,F,N(e(G,F))-(j-a)+K)):"h"===t?(n(U,l,r+K),W.contentHeight=r,H.y+=r-I,A.indexOf("Bottom")>=0&&n(G,g,N(e(G,g))-(r-I)+K)):"wh"===t&&(n(G,X,j+K),n(U,l,r+K),W.width=j,W.contentHeight=r,H.x+=j-a,H.y+=r-I,A.indexOf("right")>=0&&n(G,F,N(e(G,F))-(j-a)+K),A.indexOf("Bottom")>=0&&n(G,g,N(e(G,g))-(r-I)+K));var m=W.content;m&&m.isSelfViewEvent&&(m.setX(0),m.setY(0),m.setWidth(W.width-2*(W.borderWidth||0)),m.setHeight(W.contentHeight)),Q.$36i?p.$18i.fire({kind:"betweenResize",target:p,id:p.getView().$15i}):(Q.$36i=!0,p.$18i.fire({kind:"beginResize",target:p,id:p.getView().$15i}))}else if(Q.$38i){var Z,Y,y,C,b,V,k,f,h,T,q=G.getBoundingClientRect(),s=q.width,u=q.height,d=P(o),_=d.width,J=d.height,v=p._dragContainment;"leftTop"===A?(Z=N(e(G,E))||0,y=N(e(G,R))||0,b=Z+B,k=y+z,"parent"===v&&(b+s>_&&(b=_-s),k+u>J&&(k=J-u),0>b&&(b=0),0>k&&(k=0)),h=b-Z,T=k-y,p.setPosition(b,k),H.x+=h,H.y+=T):"rightBottom"===A?(Y=N(e(G,F))||0,C=N(e(G,g))||0,V=Y-B,f=C-z,"parent"===v&&(0>V&&(V=0),0>f&&(f=0),V+s>_&&(V=_-s),f+u>J&&(f=J-u)),h=V-Y,T=f-C,p.setPosition(V,f),H.x-=h,H.y-=T):"rightTop"===A?(Y=N(e(G,F))||0,y=N(e(G,R))||0,V=Y-B,k=y+z,"parent"===v&&(0>V&&(V=0),0>k&&(k=0),V+s>_&&(V=_-s),k+u>J&&(k=J-u)),h=V-Y,T=k-y,p.setPosition(V,k),H.x-=h,H.y+=T):"leftBottom"===A&&(Z=N(e(G,E))||0,C=N(e(G,g))||0,b=Z+B,f=C-z,"parent"===v&&(0>b&&(b=0),0>f&&(f=0),b+s>_&&(b=_-s),f+u>J&&(f=J-u)),h=b-Z,T=f-C,p.setPosition(b,f),H.x+=h,H.y-=T),Q.$39i?p.$18i.fire({kind:"betweenMove",target:p,id:p.getView().$15i}):(Q.$39i=!0,p.$18i.fire({kind:"beginMove",target:p,id:p.getView().$15i}))}}},handleWindowMouseMove:function(N){this.handleWindowTouchMove(N)}});var j=k.widget.PanelGroup=function(T){var X=this,O=X._view=u.createView(null,X);O.style.border="1px dashed black",O.style.position="absolute",O.style.background="rgba(120, 120, 120, 0.4)",X.$48i=new k.List,X._tolerance=100,X._config=T||{hGap:0,vGap:0},X.bindHandlePanelMove=X.handlePanelMove.bind(X),X.bindHandlePanelEvent=X.handlePanelEvent.bind(X),X.invalidate()};L.def(j,A,{invalidate:function(){var D=this;D._68I||(D._68I=1,J(function(){D.validate()},50))},validate:function(){if(this._68I){delete this._68I;var D=this.$48i.get(0);if(D){var l=D.getView().parentNode;l&&(this.layoutPanels(l,"leftTop"),this.layoutPanels(l,"rightTop"),this.layoutPanels(l,"leftBottom"),this.layoutPanels(l,"rightBottom"))}}},setLeftTopPanels:function(){var e=this,F=e.$43i,z=e.$48i;F==H&&(F=e.$43i=new k.List);for(var o=0;o<arguments.length;o++){var K=arguments[o];if("string"==typeof K)F.$49i=K;else{if(K._config.flowLayout)continue;K.setPositionRelativeTo("leftTop"),F.contains(K)||F.add(K),z.contains(K)||e.add(K)}}},setRightTopPanels:function(){var P=this,Q=P.$44i,R=P.$48i;Q==H&&(Q=P.$44i=new k.List);for(var i=0;i<arguments.length;i++){var e=arguments[i];if("string"==typeof e)Q.$49i=e;else{if(e._config.flowLayout)continue;e.setPositionRelativeTo("rightTop"),Q.contains(e)||Q.add(e),R.contains(e)||P.add(e)}}},setLeftBottomPanels:function(){var g=this,w=g.$45i,c=g.$48i;w==H&&(w=g.$45i=new k.List);for(var x=0;x<arguments.length;x++){var J=arguments[x];if("string"==typeof J)w.$49i=J;else{if(J._config.flowLayout)continue;J.setPositionRelativeTo("leftBottom"),w.contains(J)||w.add(J),c.contains(J)||g.add(J)}}},setRightBottomPanels:function(){var G=this,x=G.$46i,F=G.$48i;x==H&&(x=G.$46i=new k.List);for(var o=0;o<arguments.length;o++){var S=arguments[o];if("string"==typeof S)x.$49i=S;else{if(S._config.flowLayout)continue;S.setPositionRelativeTo("rightBottom"),x.contains(S)||x.add(S),F.contains(S)||G.add(S)}}},add:function(b){if(!b._config.flowLayout){var d=this,w=d.$48i;w.contains(b)||(b.addEventListener(d.bindHandlePanelMove),b.addEventListener(d.bindHandlePanelEvent),w.add(b))}},remove:function($){var O=this,d=O.$48i;d.contains($)&&($.removeEventListener(O.bindHandlePanelMove),$.removeEventListener(O.bindHandlePanelEvent),d.remove($),O.$43i.contains($)&&O.$43i.remove($),O.$44i.contains($)&&O.$44i.remove($),O.$45i.contains($)&&O.$45i.remove($),O.$46i.contains($)&&O.$46i.remove($))},layoutPanels:function(j,L,Q){var v=this,o=v._config,E=o.hGap||0,S=o.vGap||0;if(j){var b=v.$43i;if("leftBottom"===L?b=v.$45i:"rightTop"===L?b=v.$44i:"rightBottom"===L&&(b=v.$46i),!b)return;var m=b.$49i,W=E,D=S;if(j.contains(v._view)&&j.removeChild(v._view),b&&b.size()>0)for(var k=0;k<b.size();k++){var c=b.get(k),l=c.getView();j=j||l.parentNode,Q!==k?c.setPosition(W,D):("leftTop"===L?(v._view.style.right="",v._view.style.bottom="",v._view.style.left=W+K,v._view.style.top=D+K):"leftBottom"===L?(v._view.style.right="",v._view.style.top="",v._view.style.left=W+K,v._view.style.bottom=D+K):"rightTop"===L?(v._view.style.left="",v._view.style.bottom="",v._view.style.right=W+K,v._view.style.top=D+K):"rightBottom"===L&&(v._view.style.left="",v._view.style.top="",v._view.style.right=W+K,v._view.style.bottom=D+K),v._view.style.width=l.offsetWidth+K,v._view.style.height=l.offsetHeight+K,j.insertBefore(v._view,l)),"h"===m?W+=l.offsetWidth+E:"v"===m&&(D+=l.offsetHeight+S)}}},handlePanelEvent:function(A){if("beginToggle"===A.kind||"endToggle"===A.kind||"beginRestore"===A.kind||"endMinimize"===A.kind||"endResize"===A.kind){var Z=this,c=A.target,v=c.getView(),S=v.parentNode,m=Z.$43i,N=Z.$44i,B=Z.$45i,d=Z.$46i,U=Z._config,p=H,l=H,F=c.$47i;if(F==H&&(F=c.$47i=0),"beginToggle"===A.kind?F=c.$47i=F+1:"endToggle"===A.kind&&(F=c.$47i=F-1),m&&m.contains(c)?(p="leftTop",l=m):B&&B.contains(c)?(p="leftBottom",l=B):N&&N.contains(c)?(p="rightTop",l=N):d&&d.contains(c)&&(p="rightBottom",l=d),"beginToggle"===A.kind&&p&&1===F){var q=Y(),L=q.style,u=l.$49i,f="each";L.fontSize="0",L.position="absolute",L.width="100%","leftTop"===p?(L.left=0,L.top=0):"leftBottom"===p?(L.left=0,L.bottom=0,"v"===u&&(f="reverseEach")):"rightTop"===p?(L.right=0,L.top=0,L.textAlign="right","h"===u&&(f="reverseEach")):"rightBottom"===p&&(L.right=0,L.bottom=0,L.textAlign="right",f="reverseEach"),l[f](function(x){var G=x.getView(),F=G.style,W=Y();F.position="static",W.style.textAlign="left",W.style.position="relative",W.style.display="inline-block","leftTop"===p?(W.style.marginLeft=U.hGap+K,W.style.marginTop=U.vGap+K):"leftBottom"===p?(W.style.marginLeft=U.hGap+K,W.style.marginBottom=U.vGap+K):"rightTop"===p?(W.style.marginRight=U.hGap+K,W.style.marginTop=U.vGap+K):"rightBottom"===p&&(W.style.marginRight=U.hGap+K,W.style.marginBottom=U.vGap+K),W.appendChild(G),q.appendChild(W),"h"===u?W.style.verticalAlign="leftTop"===p||"rightTop"===p?"top":"bottom":q.appendChild(_("br"))}),Z.$54i=q,S.appendChild(q)}else"endToggle"===A.kind&&p&&0===F?J(function(){S=S.parentNode.parentNode,S.removeChild(Z.$54i),delete Z.$54i,l.each(function(q){var K=q.getView(),D=K.style;D.position="absolute",S.appendChild(K)}),Z.layoutPanels(S,p)},30):("beginRestore"===A.kind||"endMinimize"===A.kind||"endResize"===A.kind)&&p&&Z.layoutPanels(S,p)}},handlePanelMove:function(J){if(!(J.kind.indexOf("Move")<0)){var n=this,X=n._config,f=X.hGap||0,p=X.vGap||0,G=J.target,l=G._view,v=l.getBoundingClientRect(),m=v.width,w=v.height,o=m/2,g=w/2,A=l.parentNode,x=n.$43i,F=n.$44i,y=n.$45i,K=n.$46i,_=A.getBoundingClientRect(),E=n._tolerance;if("endMove"===J.kind){var S=n._corner;S&&(G.setPositionRelativeTo(S),n.layoutPanels(A,S)),delete n._corner}if("betweenMove"===J.kind){var W=_.left,t=_.top,L=_.width,P=_.height,I=v.left+m/2,q=v.top+w/2;x==H&&(x=n.$43i=new k.List),y==H&&(y=n.$45i=new k.List),F==H&&(F=n.$44i=new k.List),K==H&&(K=n.$46i=new k.List),delete n._corner,x.contains(G)?(x.remove(G),n.layoutPanels(A,"leftTop")):y.contains(G)?(y.remove(G),n.layoutPanels(A,"leftBottom")):F.contains(G)?(F.remove(G),n.layoutPanels(A,"rightTop")):K.contains(G)&&(K.remove(G),n.layoutPanels(A,"rightBottom"));var U=function(V,J){var v=W+f,T=t+p;if(0===J.size()){var M=v+o,C=T+g;"leftBottom"===V?C=t+P-p-g:"rightTop"===V?M=W+L-f-o:"rightBottom"===V&&(M=W+L-f-o,C=t+P-p-g);var z=I-M,Y=q-C,B=Math.sqrt(z*z+Y*Y);if(E>B)return n._corner=V,J.add(G),n.layoutPanels(A,V,0),!0}else if(1===J.size()){var S=J.get(0),i=S.getView().getBoundingClientRect(),b=i.left+o,$=i.top+g,F=i.left+i.width+f+o,R=T+g,x=v+o,w=i.top+i.height+p+g;"leftBottom"===V?($=i.top+i.height-g,R=t+P-p-g,w=i.top-p-g):"rightTop"===V?(b=i.left+i.width-o,F=i.left-f-o,x=W+L-f-o):"rightBottom"===V&&(b=i.left+i.width-o,$=i.top+i.height-g,F=i.left-f-o,R=t+P-p-g,x=W+L-f-o,w=i.top-p-g);var s=I-b,D=q-$,X=I-F,y=q-R,u=I-x,j=q-w,K=N(Math.sqrt(s*s+D*D)),h=N(Math.sqrt(X*X+y*y)),k=N(Math.sqrt(u*u+j*j)),c=[K,h,k];c.sort(function(y,w){return y-w});var d=c[0];if(E>d){if(n._corner=V,d===K)return J.add(G,0),n.layoutPanels(A,V,0),!0;if(d===h)return J.add(G),J.$49i="h",n.layoutPanels(A,V,1),!0;if(d===k)return J.add(G),J.$49i="v",n.layoutPanels(A,V,1),!0}}else if(J.size()>1){for(var l=H,_={},Z=[],Q=J.$49i,e=0;e<J.size();e++){var m=J.get(e),r=m.getView(),O=r.getBoundingClientRect(),U=O.left+o,a=O.top+g;"leftBottom"===V?a=O.top+O.height-g:"rightTop"===V?U=O.left+O.width-o:"rightBottom"===V&&(U=O.left+O.width-o,a=O.top+O.height-g),e===J.size()-1&&(l=O);var z=I-U,Y=q-a,B=N(Math.sqrt(z*z+Y*Y));_[B]=e,Z.push(B)}"leftTop"===V&&"h"===Q?(M=l.left+l.width+f+o,C=T+g):"leftTop"===V&&"v"===Q?(M=v+o,C=l.top+l.height+p+g):"leftBottom"===V&&"h"===Q?(M=l.left+l.width+f+o,C=t+P-p-g):"leftBottom"===V&&"v"===Q?(M=v+o,C=l.top-p-g):"rightTop"===V&&"h"===Q?(M=l.left-f-o,C=T+g):"rightTop"===V&&"v"===Q?(M=W+L-f-o,C=l.top+l.height+p+g):"rightBottom"===V&&"h"===Q?(M=l.left-f-o,C=t+P-p-g):"rightBottom"===V&&"v"===Q&&(M=W+L-f-o,C=l.top-p-g),z=I-M,Y=q-C,B=N(Math.sqrt(z*z+Y*Y)),_[B]=e,Z.push(B),Z.sort(function(e,O){return e-O});var d=Z[0];if(E>d)return n._corner=V,J.add(G,_[d]),n.layoutPanels(A,V,_[d]),!0}};U("leftTop",x)||U("leftBottom",y)||U("rightTop",F)||U("rightBottom",K)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);