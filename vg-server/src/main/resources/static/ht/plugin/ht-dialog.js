!function(Q,D){"use strict";var k="ht",I=Q[k],F="px",T="left",a="top",u="bottom",o="right",q="innerHTML",h="className",R="",f="width",K="height",B="string",l="position",M="absolute",X="0",z="opacity",c="background",r=I.Default,S=r.getInternal(),p=I.Color,J=r.animate,H=r.isTouchable,P=null,Z=(Math.sqrt,Q.parseInt),V=Q.setTimeout,L=(Math.round,p.titleIconBackground),y=function(w){return typeof w===B||w instanceof String},C=function(){return document},Y=function(j){return C().createElement(j)},g=function(){var x=Y("div");return x.tabIndex=-1,x.style.outline="none",x},W=function(){return Y("canvas")},v=function(L,s){n(L,"-webkit-transform",s),n(L,"-ms-transform",s),n(L,"transform",s)},n=function(Y,o,c){Y.style.setProperty(o,c,P)},w=function(D,T,p){r.def(I.widget[D],T,p)},U=function(z,p){z.appendChild(p)},N=function(){return C().documentElement},b=function(){return N().clientWidth},s=function(){return N().clientHeight},i=r.eventListenerOptionsFalse,x=(r.eventListenerOptionsTrue,function(W,C,M,z){W.addEventListener(C,M,z?i:i)}),A=function(y,k,d,s){y.removeEventListener(k,d,s?i:i)},E=function($){var H=$.touches[0];return H?H:$.changedTouches[0]};S.addMethod(r,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:L},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:L}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:L},{type:"rect",rect:[10,10,80,20],background:L}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:L},{type:"rect",rect:[10,34,56,14],background:L},{type:"rect",rect:[34,10,56,14],background:L},{type:"rect",rect:[82,10,8,56],background:L},{type:"rect",rect:[66,62,24,8],background:L}]},dialogTitleLabelColor:r.labelSelectColor,dialogTitleLabelFont:(H?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:r.labelFont,dialogTitleBackground:p.titleBackground,dialogHeaderBackground:p.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var G=function(o){var Z=this;Z.$1d=o,Z.addListeners()};r.def(G,D,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(M){var $=this,c=$.$1d,O=c.$6d,F=c._config,y=c.$7d,L=M,Z=M.target;if(y.contains(Z)||r.preventDefault(M),r.isLeftButton(M)){H&&(L=E(M));var A=$.$8d={x:L.pageX,y:L.pageY};$.$9d={x:A.x,y:A.y},!F.maximized&&F.draggable&&O.contains(Z)&&($.$4d=!0,r.startDragging($,M)),$.handle_mousemove(M)&&($.$2d=!0,r.startDragging($,M)),y.contains(M.target)||c.$41d.focus()}},handle_mousedown:function(F){this.handle_touchstart(F)},handle_touchend:function(X){if(r.isLeftButton(X)&&!this.$5d&&!this.$3d){var p=this,O=p.$1d,U=X.target,y=O._config,Z=O.$18d,q=O.$16d;for(y.closable&&Z.contains(U)&&O.hide(),y.maximizable&&q.contains(U)&&(y.maximized?O.restore():O.maximize());U&&(U.className||"").indexOf("dialog-button")<0;)U=U.parentNode;U&&U.buttonItem&&O.action&&O.action(U.buttonItem,X),delete p.$8d,delete p.$9d}},handle_mouseup:function(x){this.handle_touchend(x)},handleWindowTouchEnd:function(_){var S=this,o=S.$1d,h=o.$10d;S.$2d&&S.$3d?h.fire({kind:"endResize",target:o,originEvent:_}):S.$4d&&S.$5d&&h.fire({kind:"endMove",target:o,originEvent:_}),this.clear()},handleWindowMouseUp:function(o){this.handleWindowTouchEnd(o)},handle_mousemove:function(O){var v=this.$1d._config;if(v.maximized)return!1;if("w"!==v.resizeMode&&"h"!==v.resizeMode&&"wh"!==v.resizeMode)return!1;var y=this,k=y.getView(),e=k.querySelector(".resize-area"),I=e.getBoundingClientRect(),h={x:I.left,y:I.top,width:I.width,height:I.height};O=H?E(O):O;var l=O.clientX,j=O.clientY,m={x:l,y:j};return r.containsPoint(h,m)?(n(k,"cursor","nwse-resize"),!0):(n(k,"cursor",R),void 0)},handleWindowTouchMove:function(K){K.preventDefault();var d=K;H&&(d=E(K));var e=this,h=e.$8d,M=e.$9d;if(!(M.x==h.x&&M.y==h.y&&r.getDistance(M,{x:d.pageX,y:d.pageY})<=1)){var G=e.$1d,Q=G._config,c=G.$21d,j=Q.resizeMode||"wh",B=d.pageX-h.x,z=d.pageY-h.y;if(e.$2d){var X=c.offsetWidth,N=c.offsetHeight,m=X+B,x=N+z;if(m=Math.max(m,50),x=Math.max(x,50),"center"===Q.position||Q.position==P){var k={},I=c.getBoundingClientRect();k.x=I.left,k.y=I.top,Q.position=k}"w"===j?(G.setSize(m,N),h.x+=m-X):"h"===j?(G.setSize(X,x),h.y+=x-N):"wh"===j&&(G.setSize(m,x),h.x+=m-X,h.y+=x-N),e.$3d?G.$10d.fire({kind:"betweenResize",target:G,originEvent:K}):(e.$3d=!0,G.$10d.fire({kind:"beginResize",target:G,originEvent:K}))}else if(e.$4d){var t=c.getBoundingClientRect(),i=t.width,V=t.height,l=b(),$=s(),u=Z(c.style.left)||0,Y=Z(c.style.top)||0,R=u+B,g=Y+z,w=G.adjustPosition({x:R,y:g},{width:i,height:V},{width:l,height:$});w&&(R=w.x,g=w.y);var O=R-u,y=g-Y;n(c,T,R+F),n(c,a,g+F),h.x+=O,h.y+=y,Q.position={x:R,y:g},e.$5d?G.$10d.fire({kind:"betweenMove",target:G,originEvent:K}):(e.$5d=!0,G.$10d.fire({kind:"beginMove",target:G,originEvent:K}))}}},handleWindowMouseMove:function(n){this.handleWindowTouchMove(n)},handleWindowResize:function(){var g=this,A=g,S=A._config,e=A.$21d,G=b(),C=s(),M=S.width,L=S.height,u=S.position||"center";S.maximized?(n(e,f,G+F),n(e,K,C+F),n(e,a,X),n(e,T,X)):(n(e,f,M+F),n(e,K,L+F),"center"===u?(n(e,T,(G-M)/2+F),n(e,a,(C-L)/2+F)):(n(e,T,u.x+F),n(e,a,u.y+F))),A.iv()},handle_mousewheel:function(c){c.stopPropagation()},handle_DOMMouseScroll:function(D){D.stopPropagation()}}),I.widget.Dialog=function(k){var i=this,A=i._view=S.createView(null,i);A[h]="ht-widget-dialog",n(A,l,M),r.baseZIndex!=P&&n(A,"z-index",r.baseZIndex+"");var d=i.$11d=new G(i);i.bindingHandleWindowResize=d.handleWindowResize.bind(i),i.$10d=new I.Notifier,k&&i.setConfig(k)},w("Dialog",D,{ms_v:1,setTitle:function(A){this._config.title=A,this.getView().querySelector(".dialog-container-title span").innerHTML=A},clearNodes:function(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)},$31d:function(){var T=this,p=T.$6d=g(),e=T._config,S=T.$12d=T.$13d();p[h]="dialog-container-title",n(p,"cursor","default"),n(p,"white-space","nowrap"),n(p,"overflow","hidden"),n(p,"font",r.dialogTitleLabelFont),n(p,c,e.titleBackground||r.dialogTitleBackground),n(p,"color",e.titleColor||r.dialogTitleLabelColor);var C=Y("span"),Q=T.$25d();if(e.titleAlign&&n(p,"text-align",e.titleAlign),e.titleIcon){var E=T.$14d=T.$15d();U(p,E)}if(e.title&&e.title.trim&&(e.title=e.title.trim()),C[q]=e.title||"&nbsp;",U(p,C),e.maximizable){var y=T.$16d=T.$17d();U(S,y)}if(e.closable){var D=T.$18d=T.$19d();U(S,D)}return U(p,S),n(p,"display","block"),n(p,"line-height",Q+F),p},$13d:function(){var G=g();return n(G,l,M),n(G,T,X),n(G,o,5+F),n(G,a,X),n(G,u,X),n(G,"text-align",o),n(G,"white-space","nowrap"),G[h]="dialog-title-controls",G},$20d:function(){var E=this.$21d=g(),t=this._config,O=t.borderWidth;return n(E,l,"fixed"),n(E,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),n(E,"padding",X+" "+O+F+" "+O+F+" "+O+F),n(E,"box-sizing","border-box"),n(E,"-moz-box-sizing","border-box"),E[h]="dialog-container",n(E,c,t.titleBackground||r.dialogTitleBackground),E},$22d:function(){var V,k=this,Y=k._config,e=k.$7d=g(),p=Y.content,v=0,_=Y.contentPadding||0;Y.buttons!=P&&Y.buttons.length>0&&(v=32),y(p)?e[q]=p:p.getView?(V=p.getView(),U(e,V)):(V=p,U(e,V)),n(e,l,M),n(e,"font",r.dialogContentLabelFont),I.Default.appendToScreen(e);var D=e.offsetWidth+1,A=e.offsetHeight,B=k.$25d();return Y.width==P&&(Y.width=D+10+2*_),Y.height==P&&(Y.height=A+B+v+5+2*_),I.Default.removeHTML(e),V&&(n(V,"box-sizing","border-box"),n(V,"-moz-box-sizing","border-box"),n(V,f,"100%"),n(V,K,"100%")),e[h]="dialog-content",n(e,a,B+_+F),n(e,u,v+_+F),n(e,T,_+F),n(e,o,_+F),n(e,"overflow","hidden"),e},getOverlayDiv:function(){return this.$41d},$23d:function(){var J=this.$41d=g();return J[h]="dialog-overlay",n(J,f,"100%"),n(J,K,"100%"),n(J,l,"fixed"),n(J,a,X),n(J,T,X),n(J,c,"rgba(235, 235, 235, 0.7)"),J},_config:P,setSize:function(s,X){var b=this,v=b._config;v&&(v.width=s,v.height=X,b.isShowing()&&(b.bindingHandleWindowResize(),b.iv()))},getConfig:function(){return this._config},$24d:function(){var e=this._config,R=e.titleIconSize||16;return H&&(R*=1.2),R},$25d:function(){var j=this._config,f=j.titleHeight||r.widgetTitleHeight;return f},$26d:function(J){n(J,"cursor","pointer"),n(J,"display","inline-block"),n(J,"margin-right",(H?8:4)+F),n(J,"vertical-align",a)},$27d:function(){var E=this.$30d=g(),w=10;return H&&(w=20),n(E,f,w+F),n(E,K,w+F),n(E,l,M),n(E,u,X),n(E,o,X),E[h]="resize-area",E},$15d:function(){var G=this,s=W();s[h]="dialog-title-control dialog-title-control-icon";var Z=G.$25d(),q=G.$24d();return G.$26d(s),S.setCanvas(s,q,Z),s},$17d:function(){var _=W();_[h]="dialog-title-control dialog-title-control-maximize";var H=this.$25d(),n=this.$24d();return this.$26d(_),S.setCanvas(_,n,H),_},$19d:function(){var j=W();j[h]="dialog-title-control dialog-title-control-close";var I=this.$25d(),b=this.$24d();return this.$26d(j),S.setCanvas(j,b,I),j},$28d:function(){var m=g();return n(m,c,"white"),n(m,f,"100%"),n(m,K,"100%"),n(m,l,"relative"),m},$29d:function(){var E=this,v=g();n(v,"line-height",32+F),n(v,l,M),n(v,u,X),n(v,T,X),n(v,"white-space","nowrap"),n(v,"overflow","hidden"),n(v,o,X),n(v,c,r.dialogHeaderBackground),v[h]="dialog-container-buttons";var Z=this._config,b=Z.buttonsAlign||o,w=0;return n(v,"text-align",b),E.$42d=[],Z.buttons.forEach(function(j){var y=new I.widget.Button,e=y.getView();e[h]="dialog-button "+j.className,e.buttonItem=j,E.$42d.push(y),y.setBorderColor(P),y.setBackground(r.dialogButtonBackground),y.setSelectBackground(r.dialogButtonSelectBackground),y.setLabelColor(r.dialogButtonLabelColor),n(e,l,"relative"),n(e,"display","inline-block"),n(e,"text-align",T),n(e,"height",24+F);var s=H?10:5;b===T||b===o?n(e,"margin-"+b,s+F):0===w||n(e,"margin-"+T,s+F),n(e,"vertical-align","middle");var B=r.getTextSize(y.getLabelFont(),j.label).width+10;y.onClicked=function(s){j.action&&j.action.call(E,j,s)},y.setLabel(j.label),y.setDisabled(j.disabled),n(e,f,B+F),U(v,y.getView()),w++}),v},setConfig:function(T){if(T){var A=this,n=A._view;A._config=T,A.action=T.action,A.clearNodes(n),T.borderWidth==P&&(T.borderWidth=5);var h=A.$23d(),w=A.$28d(),j=A.$31d(),K=A.$22d(),o=A.$20d(),x=A.$30d=A.$27d();if(U(n,h),U(n,o),U(o,w),U(w,j),U(w,K),T.buttons!=P&&T.buttons.length>0){var N=A.$29d();U(w,N)}U(o,x),T.maximized?(T.maximized=!1,A.bindingHandleWindowResize(),A.maximize(!0)):A.bindingHandleWindowResize(),A.isShowing()&&A.iv()}},hide:function(){var d=this,k=d.$21d,t=d.$41d,K=d._view;K[h]="ht-widget-dialog",J(k).duration(200).scale(.7).set(z,X).end(function(){d.onHidden&&d.onHidden(),I.Default.removeHTML(K),d.$10d.fire({kind:"hide",target:d})}),J(t).duration(200).set(z,X).end(),A(Q,"resize",d.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function($){this.$41d.style.display=$?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var w=this,J=w._config,H=w.$21d;v(H,R),w.iv(),J.maximized?w.$10d.fire({kind:"maximize",target:w}):w.$10d.fire({kind:"restore",target:w})},maximize:function(d){var B=this,G=B.$21d,V=B._config;if(!V.maximized){V.maximized=!0,B.$33d(),B.$16d[h]="dialog-title-control dialog-title-control-minimize";var w=b(),R=s(),o=V.width,_=V.height,r=Z(G.style.left)||0,j=Z(G.style.top)||0;B.$36d=o,B.$37d=_,B.$34d=r,B.$35d=j;var z=d?0:200;J(G).duration(z).set(T,X).set(a,X).set(f,w+F).set(K,R+F).end(function(){B.$32d()})}},restore:function(){var O=this,t=O.$34d,R=O.$35d,m=O.$36d,N=O.$37d,j=O._config;if(j.maximized&&(j.maximized=!1,O.$33d(),O.$16d[h]="dialog-title-control dialog-title-control-maximize",O.isShowing()&&t!=P&&R!=P&&m!=P&&N!=P)){var x=O.$21d;J(x).duration(200).set(T,t+F).set(a,R+F).set(f,m+F).set(K,N+F).end(function(){O.$32d()})}delete O.$34d,delete O.$35d,delete O.$36d,delete O.$37d},show:function(){var S=this,s=S._view,q=S._config,E=S.$21d,T=S.$41d;q&&q.zIndex!=P&&n(s,"z-index",q.zIndex+R),I.Default.appendToScreen(s),v(E,"scale(0.7)"),n(E,z,X),S.iv(),S.validate(),S._view[h]+=" dialog-show",V(function(){J(E).duration(200).scale(1).set(z,"1").end(function(){n(E,f,E.clientWidth+F),n(E,K,E.clientHeight+F),S.onShown&&S.onShown(),S.$10d.fire({kind:"show",target:S})}),J(T).duration(200).set(z,"1").end(),x(Q,"resize",S.bindingHandleWindowResize)},30)},setPosition:function(D){var g=this.$21d;g.style.left=D.x+"px",g.style.top=D.y+"px"},addEventListener:function(_,s,X){this.$10d.add(_,s,X)},removeEventListener:function(x,I){this.$10d.remove(x,I)},$38d:function(p,w,G,k){var t=S.initContext(p);S.translateAndScale(t,0,0,1),t.clearRect(0,0,G,G);var L=(G-k)/2;r.drawStretchImage(t,r.getImage(w),"fill",0,L,k,k),t.restore()},$33d:function(){var e=this,z=e._config,O=e.$16d,R=z.maximized?r.dialogRestoreIcon:r.dialogMaximizeIcon;if(O&&R){var f=e.$25d(),s=e.$24d();e.$38d(O,r.getImage(R),f,s)}},$39d:function(){var O=this,b=O._config,Y=O.$14d,J=b.titleIcon;if(Y&&J){var C=O.$25d(),D=O.$24d();O.$38d(Y,r.getImage(J),C,D)}},$40d:function(){var q=this,L=q.$18d,w=r.dialogCloseIcon;if(L&&w){var p=q.$25d(),G=q.$24d();q.$38d(L,r.getImage(w),p,G)}},invalidate:function(R){var C=this,y=C.$42d;C._68I||(C._68I=1,r.callLater(C.validate,C,P,R),C.onInvalidated&&C.onInvalidated(),C.fireViewEvent("invalidate"));var A=C._config.content;A.invalidate&&A.invalidate(),y&&y.forEach(function(l){l.iv()})},validateImpl:function(){var h=this;h.$40d(),h.$33d(),h.$39d();var X=h._config.content;X.initView&&(X.setX(0),X.setY(0),X.setWidth(h.$7d.clientWidth),X.setHeight(h.$7d.clientHeight))},adjustPosition:function(F,h,A){var t=h.width,M=h.height,J=A.width,r=A.height,c=F.x,i=F.y,I=this._config,p=I.minDragSize||20;return"inside"===I.dragMode?(c+t>J&&(c=J-t),i+M>r&&(i=r-M),0>c&&(c=0),0>i&&(i=0)):(null==I.dragMode||"none"===I.dragMode)&&(-t+p>c&&(c=-t+p),c>J-p&&(c=J-p),i>r-p&&(i=r-p),0>i&&(i=0)),{x:c,y:i}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);