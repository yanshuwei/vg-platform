!function(s,z,d){"use strict";var r="ht",b=s[r],u=null,C=Math,Q=C.abs,B=C.max,f=Number.MAX_VALUE,V=b.Default,g=V.getInternal(),R=V.clone,y=g.vec3TransformMat4,K=g.appendArray,E=function(){var A=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,o=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,x=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,S=function(x,n){return n=parseInt(n),n>=0?x[n-1]:x[n+x.length]},i=function(v,s,U,N,W,b){if(v.vs){var d=S(s,N),F=S(s,W),P=S(s,b),V=U.matrix,w=v.vs;if(U.flipFace){var m=F;F=P,P=m}V?(K(w,y(R(d),V)),K(w,y(R(F),V)),K(w,y(R(P),V))):(K(w,d),K(w,F),K(w,P))}},W=function(V,A,K,B,M,W){if(V.vs){var n=S(A,B),O=S(A,M),a=S(A,W),U=K.flipY;if(K.flipFace){var q=O;O=a,a=q}V.uv.push(n[0],U?1-n[1]:n[1],O[0],U?1-O[1]:O[1],a[0],U?1-a[1]:a[1])}},m=function(l,G,g,J,x,Q){if(l.vs){var e=S(G,J),s=S(G,x),P=S(G,Q),u=g.normalMatrix,$=l.ns;if(g.flipFace){var k=s;s=P,P=k}u?(K($,y(R(e),u)),K($,y(R(s),u)),K($,y(R(P),u))):(K($,e),K($,s),K($,P))}},n=function(g,t,K,y,$,j,Z,H){var k=y&&y.length&&H;j[3]===d?(i(g,t,$,j[0],j[1],j[2]),Z&&W(g,K,$,Z[0],Z[1],Z[2]),k&&m(g,y,$,H[0],H[1],H[2])):(i(g,t,$,j[0],j[1],j[3]),i(g,t,$,j[1],j[2],j[3]),Z&&(W(g,K,$,Z[0],Z[1],Z[3]),W(g,K,$,Z[1],Z[2],Z[3])),k&&(m(g,y,$,H[0],H[1],H[3]),m(g,y,$,H[1],H[2],H[3])))},h=function(t,M,S,P){var J,b,U,k,s,G,h,T=f,z=f,_=f,O=-f,c=-f,d=-f;for(J in t)for(G=t[J].vs,h=G.length,b=0;h>b;b+=3)U=G[b+0],k=G[b+1],s=G[b+2],T>U&&(T=U),z>k&&(z=k),_>s&&(_=s),U>O&&(O=U),k>c&&(c=k),s>d&&(d=s);if(S){var u=T+(O-T)/2,o=z+(c-z)/2,l=_+(d-_)/2;for(J in t)for(G=t[J].vs,h=G.length,b=0;h>b;b+=3)G[b+0]-=u,G[b+1]-=o,G[b+2]-=l}var E,j,K;S?(E=O-T,j=c-z,K=d-_):(E=2*B(Q(T),Q(O)),j=2*B(Q(z),Q(c)),K=2*B(Q(_),Q(d))),P.rawS3=[E,j,K];for(J in t){if(G=t[J].vs,M)for(h=G.length,b=0;h>b;b+=3)E&&(G[b+0]/=E),j&&(G[b+1]/=j),K&&(G[b+2]/=K);t[J].rawS3=P.rawS3}};return function(K,m,y){if(!K)return u;(g.isString(m)||m instanceof ArrayBuffer)&&(m=c(m)),y||(y={}),y.flipY==u&&(y.flipY=!0),(y.s3||y.r3||y.t3||y.mat)&&(y.matrix=g.createWorldMatrix(y.mat,y.s3,y.r3,y.rotationMode,y.t3));var w,f,H,k,R,T,B=[],r=[],F=y.ignoreNormal?u:[],_=y.reverseFlipMtls,N={vs:[],uv:[],ns:F?[]:u},d={htdefault:N},P=new v(K);for(F&&y.matrix&&(y.normalMatrix=g.createNormalMatrix(y.matrix));null!=(f=P.stepNext());)if(f=f.trim(),0!==f.length&&"#"!==f.charAt(0))if(H=A.exec(f))B.push([parseFloat(H[1]),parseFloat(H[2]),parseFloat(H[3])]);else if(H=o.exec(f))r.push([parseFloat(H[1]),parseFloat(H[2])]);else if(F&&(H=x.exec(f)))y.flipFace?F.push([parseFloat(-H[1]),parseFloat(-H[2]),parseFloat(-H[3])]):F.push([parseFloat(H[1]),parseFloat(H[2]),parseFloat(H[3])]);else if("f"===f[0]){var l=f.split(/\s+/);if(l.length<4)continue;var Q,w,q,U=[],J=[],X=[];for(w=1,q=l.length;q>w;w++)Q=l[w].split("/"),U.push(parseInt(Q[0],10)),Q.length>1&&Q[1].length>0&&X.push(parseInt(Q[1],10)),Q.length>2&&Q[2].length>0&&J.push(parseInt(Q[2],10));for(w=0,q=U.length-2;q>w;w++)n(N,B,r,F,y,[U[0],U[w+1],U[w+2]],X.length?[X[0],X[w+1],X[w+2]]:u,J.length?[J[0],J[w+1],J[w+2]]:u)}else if(/^usemtl /.test(f)&&(k=f.substring(7).trim(),!(N=d[k]))){if(N={name:k,vs:[],uv:[],ns:F?[]:u},y.ignoreMtls&&y.ignoreMtls.indexOf(k)>=0&&delete N.vs,(y.reverseFlip||"*"===_||_&&_.indexOf(k)>=0)&&(N.reverseFlip=!0),m&&(R=m[k],R&&(y.ignoreColor||(N.color=R.kd),!y.ignoreTransparent&&R.d>0&&R.d<1&&(N.transparent=!0,N.opacity=R.d),!y.ignoreImage&&(T=R.map_kd)))){T=T.split(" ");var b=-1;for(w=0;w<T.length;w++)"-o"===T[w]?(N.uvOffset=[parseFloat(T[w+1]),parseFloat(T[w+2])],w+=2,b=w):"-s"===T[w]&&(N.uvScale=[parseFloat(T[w+1]),parseFloat(T[w+2])],w+=2,b=w);N.image=(y.prefix||"")+T.splice(b+1).join(" ")}d[k]=N}var t=[];for(var $ in d){var O=d[$].vs;O&&0!==O.length||t.push($)}t.forEach(function(l){delete d[l]}),h(d,y.cube,y.center,y);var e=y.shape3d;if(e){var a=[];for(var k in d){var N=d[k];a.rawS3=N.rawS3,a.push(N)}V.setShape3dModel(e,a)}return d}}(),c=function(B){var $={};if(B)for(var i,X,O,e,m,M,y=new v(B),w=/\s+/;null!=(X=y.stepNext());)X=X.trim(),0!==X.length&&"#"!==X.charAt(0)&&(O=X.indexOf(" "),e=(O?X.substring(0,O):X).toLowerCase(),m=(O?X.substring(O+1):"").trim(),"newmtl"===e?$[m]=i={name:m}:i&&("ka"===e||"kd"===e||"ks"===e?(M=m.split(w,3),i[e]=[parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2]),1]):i[e]="ns"===e||"d"===e?parseFloat(m):m));return $},v=function(v){var M=this;if(v instanceof ArrayBuffer){M.isBuffer=!0;var S=0,l=new Uint8Array(v),I=l.length,p=l.length;M.stepNext=function(){for(var k,y,V=S;I>S;)if(k=l[S],y=k>>4,12===y||13==y)S+=2;else if(14===y)S+=3;else if(S++,10===k)return String.fromCharCode.apply(null,l.subarray(V,S));return S>V?String.fromCharCode.apply(null,l.subarray(V,S)):null}}else{M.isBuffer=!1;var s=v.split("\n"),T=0,p=s.length;M.stepNext=function(){return p>T?s[T++]:null}}};v.prototype={},v.prototype.constructor=v,g.addMethod(V,{loadObj:function(U,$,R){R=R||{};var y=!1;/(MSIE |Trident\/|Edge\/)/.test(s.navigator.userAgent)&&(y=!0);var G=function(T){var d,$=R.finishFunc,Z=R.shape3d,z=T?E(T[0],T[1],R):null;if(z){if(Z)d=V.getShape3dModel(Z);else{d=[];for(var _ in z){var K=z[_];d.rawS3=K.rawS3,d.push(K)}}$&&$(z,d,d.rawS3)}else $&&$(null)};if(y){var W=function(S){R.responseType="arraybuffer",V.xhrLoad(U,function(B){G([B,S])},R)};$?V.xhrLoad($,function(H){W(H)},R):W()}else V.xhrLoad($?[U,$]:[U],G,R)},parseObj:function(M,V,B){return E(M,V,B)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);