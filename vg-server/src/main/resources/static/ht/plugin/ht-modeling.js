!function(t,s,Z){"use strict";var k="ht",L=t[k],K=null,A=Math,l=A.PI,I=A.cos,$=A.sin,r=A.abs,c=A.max,w=A.sqrt,x=1e-5,n=L.Default,N=n.def,u=n.startAnim,h=n.createMatrix,q=n.transformVec,Q=n.getInternal(),B=Q.addMethod,d=Q.superCall,V=Q.toPointsArray,H=Q.createNormals,O=Q.toFloatArray,j=Q.glMV,R=Q.batchShape,v=Q.createNodeMatrix,D=Q.getFaceInfo,X=Q.transformAppend,M=Q.drawFaceInfo,y=Q.createAnim,e=Q.cube(),Y=e.is,U=e.vs,o=e.uv,E=Q.ui(),z=L.Node,m=L.Shape,G="h",i="v",S="front",J="back",F="left",g="right",P="top",p="bottom",T="dw.expanded",C=".expanded",a="dw.angle",f=".angle",W=function(c,$,P){N(k+"."+c,$,P)},b=function(c,W,n){n?c.push(W.x,W.y):c.push(W.x,W.y,W.z)},_=[1,0,0],pl=function(R,a,e,d){var m,G,z,c,I=0,A=[];if(d)for(m=d.length;m>I;I+=3)G=d[I],z=d[I+1],c=d[I+2],A.push(new Pf([new _p([a[3*G],a[3*G+1],a[3*G+2]],_,e?[e[2*G],e[2*G+1],0]:K),new _p([a[3*z],a[3*z+1],a[3*z+2]],_,e?[e[2*z],e[2*z+1],0]:K),new _p([a[3*c],a[3*c+1],a[3*c+2]],_,e?[e[2*c],e[2*c+1],0]:K)],R));else for(m=a.length;m>I;I+=3)G=I,z=I+1,c=I+2,A.push(new Pf([new _p([a[3*G],a[3*G+1],a[3*G+2]],_,e?[e[2*G],e[2*G+1],0]:K),new _p([a[3*z],a[3*z+1],a[3*z+2]],_,e?[e[2*z],e[2*z+1],0]:K),new _p([a[3*c],a[3*c+1],a[3*c+2]],_,e?[e[2*c],e[2*c+1],0]:K)],R));return A},Od=[F,S,g,J,P,p],Ng=Od.concat("csg"),Sc=[0,6,12,18,24,30],Dh=function(w,I,f){for(var Q=v(w),G=[],O=0;6>O;O++)for(var W=Od[O],e=Sc[O],b=f?I.getFaceUv(w,W):K,J=f?I.getFaceUvScale(w,W):K,Z=f?I.getFaceUvOffset(w,W):K,R=0;2>R;R++){var j,t,p,m=Y[e+3*R],c=Y[e+3*R+1],s=Y[e+3*R+2];if(f){if(b){var N=8*O;j=[b[2*m-N],b[2*m+1-N],0],t=[b[2*c-N],b[2*c+1-N],0],p=[b[2*s-N],b[2*s+1-N],0]}else j=[o[2*m],o[2*m+1],0],t=[o[2*c],o[2*c+1],0],p=[o[2*s],o[2*s+1],0];J&&(j[0]*=J[0],j[1]*=J[1],t[0]*=J[0],t[1]*=J[1],p[0]*=J[0],p[1]*=J[1]),Z&&(j[0]+=Z[0],j[1]+=Z[1],t[0]+=Z[0],t[1]+=Z[1],p[0]+=Z[0],p[1]+=Z[1])}G.push(new Pf([new _p(q([U[3*m],U[3*m+1],U[3*m+2]],Q),_,j),new _p(q([U[3*c],U[3*c+1],U[3*c+2]],Q),_,t),new _p(q([U[3*s],U[3*s+1],U[3*s+2]],Q),_,p)],w))}return qm.$15n(G)},Pb=function(l,q){var y,V=l.data.getAttaches();if(V&&V.each(function(n){n instanceof ti&&n.s("attach.operation")&&(y||(y=[]),y.push(n))}),y){var f;Od.forEach(function(D){var K=pl(D,l[D].vs,l[D].tuv);f=f?f.concat(K):K}),f=qm.$15n(f),y.forEach(function(n){var w=n.s("attach.operation");f[w]&&(f=f[w](Dh(n,l.gv,l.csg.tuv)))}),Od.forEach(function(B){B=l[B],B.vs=[],B.tuv&&(B.tuv=[])}),f.$19n().forEach(function(C){var o=C.$10n;if(o instanceof ti){if(o.s("attach.cull"))return;o="csg"}for(var w=l[o],K=w.vs,_=w.tuv,T=C.$9n,c=2;c<T.length;c++)b(K,T[0].$24n),b(K,T[c-1].$24n),b(K,T[c].$24n),_&&(b(_,T[0].uv,!0),b(_,T[c-1].uv,!0),b(_,T[c].uv,!0))})}Ng.forEach(function(Q){var r=l[Q];r.visible&&r.vs.length?(r.ns=H(r.vs),O(r,"vs"),O(r,"tuv")):delete l[Q]}),q&&(R(l,K,q),l.clear())};B(n,{createFrameModel:function(I,z,Y,$){I=I==K?.07:I,z=z==K?I:z,Y=Y==K?I:Y,$=$?$:{};var f=$.top,d=$.bottom,x=$.left,R=$.right,A=$.front,b=$.back,s=[],j=[];return A===!0?(s.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),j.push(0,0,0,1,1,1,1,1,1,0,0,0)):A===!1||(s.push(-.5,.5,.5,-.5,-.5,.5,-.5+I,-.5,.5,-.5+I,-.5,.5,-.5+I,.5,.5,-.5,.5,.5,.5-I,.5,.5,.5-I,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-I,.5,.5,-.5+I,.5,.5,-.5+I,.5-z,.5,.5-I,.5-z,.5,.5-I,.5-z,.5,.5-I,.5,.5,-.5+I,.5,.5,-.5+I,-.5+z,.5,-.5+I,-.5,.5,.5-I,-.5,.5,.5-I,-.5,.5,.5-I,-.5+z,.5,-.5+I,-.5+z,.5),j.push(0,0,0,1,I,1,I,1,I,0,0,0,1-I,0,1-I,1,1,1,1,1,1,0,1-I,0,I,0,I,z,1-I,z,1-I,z,1-I,0,I,0,I,1-z,I,1,1-I,1,1-I,1,1-I,1-z,I,1-z)),b===!0?(s.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),j.push(1,0,0,1,1,1,0,1,1,0,0,0)):b===!1||(s.push(-.5,.5,-.5,-.5+I,-.5,-.5,-.5,-.5,-.5,-.5+I,-.5,-.5,-.5,.5,-.5,-.5+I,.5,-.5,.5-I,.5,-.5,.5,-.5,-.5,.5-I,-.5,-.5,.5,-.5,-.5,.5-I,.5,-.5,.5,.5,-.5,-.5+I,.5,-.5,.5-I,.5-z,-.5,-.5+I,.5-z,-.5,.5-I,.5-z,-.5,-.5+I,.5,-.5,.5-I,.5,-.5,-.5+I,-.5+z,-.5,.5-I,-.5,-.5,-.5+I,-.5,-.5,.5-I,-.5,-.5,-.5+I,-.5+z,-.5,.5-I,-.5+z,-.5),j.push(1,0,1-I,1,1,1,1-I,1,1,0,1-I,0,I,0,0,1,I,1,0,1,I,0,0,0,1-I,0,I,z,1-I,z,I,z,1-I,0,I,0,1-I,1-z,I,1,1-I,1,I,1,1-I,1-z,I,1-z)),x===!0?(s.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),j.push(0,0,0,1,1,1,1,1,1,0,0,0)):x===!1||(s.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+Y,-.5,-.5,-.5+Y,-.5,.5,-.5+Y,-.5,.5,-.5,-.5,.5,.5-Y,-.5,-.5,.5-Y,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-Y,-.5,.5,-.5+Y,-.5,.5-z,-.5+Y,-.5,.5-z,.5-Y,-.5,.5-z,.5-Y,-.5,.5,.5-Y,-.5,.5,-.5+Y,-.5,-.5+z,-.5+Y,-.5,-.5,-.5+Y,-.5,-.5,.5-Y,-.5,-.5,.5-Y,-.5,-.5+z,.5-Y,-.5,-.5+z,-.5+Y),j.push(0,0,0,1,Y,1,Y,1,Y,0,0,0,1-Y,0,1-Y,1,1,1,1,1,1,0,1-Y,0,Y,0,Y,z,1-Y,z,1-Y,z,1-Y,0,Y,0,Y,1-z,Y,1,1-Y,1,1-Y,1,1-Y,1-z,Y,1-z)),R===!0?(s.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),j.push(1,0,0,1,1,1,0,1,1,0,0,0)):R===!1||(s.push(.5,.5,-.5,.5,-.5,-.5+Y,.5,-.5,-.5,.5,-.5,-.5+Y,.5,.5,-.5,.5,.5,-.5+Y,.5,.5,.5-Y,.5,-.5,.5,.5,-.5,.5-Y,.5,-.5,.5,.5,.5,.5-Y,.5,.5,.5,.5,.5,-.5+Y,.5,.5-z,.5-Y,.5,.5-z,-.5+Y,.5,.5-z,.5-Y,.5,.5,-.5+Y,.5,.5,.5-Y,.5,-.5+z,-.5+Y,.5,-.5,.5-Y,.5,-.5,-.5+Y,.5,-.5,.5-Y,.5,-.5+z,-.5+Y,.5,-.5+z,.5-Y),j.push(1,0,1-Y,1,1,1,1-Y,1,1,0,1-Y,0,Y,0,0,1,Y,1,0,1,Y,0,0,0,1-Y,0,Y,z,1-Y,z,Y,z,1-Y,0,Y,0,1-Y,1-z,Y,1,1-Y,1,Y,1,1-Y,1-z,Y,1-z)),f===!0?(s.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),j.push(1,1,1,0,0,0,0,0,0,1,1,1)):f===!1||(s.push(.5,.5,.5,.5,.5,-.5,.5-I,.5,-.5,.5-I,.5,-.5,.5-I,.5,.5,.5,.5,.5,-.5+I,.5,.5,-.5+I,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+I,.5,.5,.5-I,.5,.5,.5-I,.5,.5-Y,-.5+I,.5,.5-Y,-.5+I,.5,.5-Y,-.5+I,.5,.5,.5-I,.5,.5,.5-I,.5,-.5+Y,.5-I,.5,-.5,-.5+I,.5,-.5,-.5+I,.5,-.5,-.5+I,.5,-.5+Y,.5-I,.5,-.5+Y),j.push(1,1,1,0,1-I,0,1-I,0,1-I,1,1,1,I,1,I,0,0,0,0,0,0,1,I,1,1-I,1,1-I,1-Y,I,1-Y,I,1-Y,I,1,1-I,1,1-I,Y,1-I,0,I,0,I,0,I,Y,1-I,Y)),d===!0?(s.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),j.push(1,0,0,1,1,1,0,1,1,0,0,0)):d===!1||(s.push(.5,-.5,.5,.5-I,-.5,-.5,.5,-.5,-.5,.5-I,-.5,-.5,.5,-.5,.5,.5-I,-.5,.5,-.5+I,-.5,.5,-.5,-.5,-.5,-.5+I,-.5,-.5,-.5,-.5,-.5,-.5+I,-.5,.5,-.5,-.5,.5,.5-I,-.5,.5,-.5+I,-.5,.5-Y,.5-I,-.5,.5-Y,-.5+I,-.5,.5-Y,.5-I,-.5,.5,-.5+I,-.5,.5,.5-I,-.5,-.5+Y,-.5+I,-.5,-.5,.5-I,-.5,-.5,-.5+I,-.5,-.5,.5-I,-.5,-.5+Y,-.5+I,-.5,-.5+Y),j.push(1,0,1-I,1,1,1,1-I,1,1,0,1-I,0,I,0,0,1,I,1,0,1,I,0,0,0,1-I,0,I,Y,1-I,Y,I,Y,1-I,0,I,0,1-I,1-Y,I,1,1-I,1,I,1,1-I,1-Y,I,1-Y)),{vs:s,uv:j}}}),B(L.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":Z,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":l/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Od.forEach(function(o){var O={};O[o+C]=!1,O[o+".toggleable"]=!1,O[o+".axis"]=F,O[o+".start"]=0,O[o+".end"]=l/2,O[o+f]=0,B(L.Style,O,!0)});var qm=function(){this.$4n=[]};qm.$15n=function(L){var g=new qm;return g.$4n=L,g},qm.prototype={clone:function(){var y=new qm;return y.$4n=this.$4n.map(function(R){return R.clone()}),y},$19n:function(){return this.$4n},union:function(a){var g=new bs(this.clone().$4n),v=new bs(a.clone().$4n);return g.$3n(v),v.$3n(g),v.$6n(),v.$3n(g),v.$6n(),g.$7n(v.$2n()),qm.$15n(g.$2n())},subtract:function(m){var W=new bs(this.clone().$4n),P=new bs(m.clone().$4n);return W.$6n(),W.$3n(P),P.$3n(W),P.$6n(),P.$3n(W),P.$6n(),W.$7n(P.$2n()),W.$6n(),qm.$15n(W.$2n())},intersect:function(x){var S=new bs(this.clone().$4n),J=new bs(x.clone().$4n);return S.$6n(),J.$3n(S),J.$6n(),S.$3n(J),J.$3n(S),S.$7n(J.$2n()),S.$6n(),qm.$15n(S.$2n())},inverse:function(){var N=this.clone();return N.$4n.map(function(d){d.flip()}),N}},qm.cube=function(o){o=o||{};var E=new ak(o.center||[0,0,0]),m=o.radius?o.radius.length?o.radius:[o.radius,o.radius,o.radius]:[1,1,1];return qm.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(p){return new Pf(p[0].map(function(V){var G=new ak(E.x+m[0]*(2*!!(1&V)-1),E.y+m[1]*(2*!!(2&V)-1),E.z+m[2]*(2*!!(4&V)-1));return new _p(G,new ak(p[1]))}))}))},qm.sphere=function(H){function Q(e,o){e*=2*l,o*=l;var K=new ak(I(e)*$(o),I(o),$(e)*$(o));W.push(new _p(S.$20n(K.$21n(X)),K))}H=H||{};for(var W,S=new ak(H.center||[0,0,0]),X=H.radius||1,K=H.slices||16,A=H.stacks||8,u=[],m=0;K>m;m++)for(var p=0;A>p;p++)W=[],Q(m/K,p/A),p>0&&Q((m+1)/K,p/A),A-1>p&&Q((m+1)/K,(p+1)/A),Q(m/K,(p+1)/A),u.push(new Pf(W));return qm.$15n(u)},qm.cylinder=function(g){function U(S,s,F){var B=2*s*l,M=R.$21n(I(B)).$20n(z.$21n($(B))),p=c.$20n(f.$21n(S)).$20n(M.$21n(C)),E=M.$21n(1-r(F)).$20n(G.$21n(F));return new _p(p,E)}g=g||{};for(var c=new ak(g.start||[0,-1,0]),e=new ak(g.end||[0,1,0]),f=e.$13n(c),C=g.radius||1,s=g.slices||16,G=f.$14n(),B=r(G.y)>.5,R=new ak(B,!B,0).$12n(G).$14n(),z=R.$12n(G).$14n(),Y=new _p(c,G.$11n()),T=new _p(e,G.$14n()),A=[],X=0;s>X;X++){var d=X/s,J=(X+1)/s;A.push(new Pf([Y,U(0,d,-1),U(0,J,-1)])),A.push(new Pf([U(0,J,0),U(0,d,0),U(1,d,0),U(1,J,0)])),A.push(new Pf([T,U(1,J,1),U(1,d,1)]))}return qm.$15n(A)};var ak=function(A,S,n){var G=this;3==arguments.length?(G.x=A,G.y=S,G.z=n):"x"in A?(G.x=A.x,G.y=A.y,G.z=A.z):(G.x=A[0],G.y=A[1],G.z=A[2])};ak.prototype={clone:function(){return new ak(this.x,this.y,this.z)},$11n:function(){return new ak(-this.x,-this.y,-this.z)},$20n:function(S){return new ak(this.x+S.x,this.y+S.y,this.z+S.z)},$13n:function(p){return new ak(this.x-p.x,this.y-p.y,this.z-p.z)},$21n:function(r){return new ak(this.x*r,this.y*r,this.z*r)},$16n:function(W){return new ak(this.x/W,this.y/W,this.z/W)},$23n:function(A){return this.x*A.x+this.y*A.y+this.z*A.z},lerp:function(N,Z){return this.$20n(N.$13n(this).$21n(Z))},length:function(){return w(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(s){var i=this;return new ak(i.y*s.z-i.z*s.y,i.z*s.x-i.x*s.z,i.x*s.y-i.y*s.x)}};var _p=function(Y,t,E){var H=this;H.$24n=new ak(Y),H.$22n=new ak(t),H.uv=E?new ak(E):null};_p.prototype={clone:function(){var x=this;return new _p(x.$24n.clone(),x.$22n.clone(),x.uv?x.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(N,Y){var c=this;return new _p(c.$24n.lerp(N.$24n,Y),c.$22n.lerp(N.$22n,Y),c.uv?c.uv.lerp(N.uv,Y):null)}};var sq=function(x,R){this.$22n=x,this.w=R};sq.$17n=function(p,T,n){var B=T.$13n(p).$12n(n.$13n(p)).$14n();return new sq(B,B.$23n(p))},sq.prototype={clone:function(){return new sq(this.$22n.clone(),this.w)},flip:function(){var B=this;B.$22n=B.$22n.$11n(),B.w=-B.w},$5n:function(N,m,c,T,d){for(var P=this,Q=0,i=1,I=2,j=3,p=0,e=[],C=0;C<N.$9n.length;C++){var f=P.$22n.$23n(N.$9n[C].$24n)-P.w,b=-x>f?I:f>x?i:Q;p|=b,e.push(b)}switch(p){case Q:(P.$22n.$23n(N.$8n.$22n)>0?m:c).push(N);break;case i:T.push(N);break;case I:d.push(N);break;case j:for(var L=[],G=[],C=0;C<N.$9n.length;C++){var q=(C+1)%N.$9n.length,k=e[C],K=e[q],h=N.$9n[C],v=N.$9n[q];if(k!=I&&L.push(h),k!=i&&G.push(k!=I?h.clone():h),(k|K)==j){var f=(P.w-this.$22n.$23n(h.$24n))/P.$22n.$23n(v.$24n.$13n(h.$24n)),B=h.$18n(v,f);L.push(B),G.push(B.clone())}}L.length>=3&&T.push(new Pf(L,N.$10n)),G.length>=3&&d.push(new Pf(G,N.$10n))}}};var Pf=function(g,S){var v=this;v.$9n=g,v.$10n=S,v.$8n=sq.$17n(g[0].$24n,g[1].$24n,g[2].$24n)};Pf.prototype={clone:function(){var l=this.$9n.map(function(K){return K.clone()});return new Pf(l,this.$10n)},flip:function(){this.$9n.reverse().map(function(B){B.flip()}),this.$8n.flip()}};var bs=function(s){var j=this;j.$8n=null,j.front=null,j.back=null,j.$4n=[],s&&j.$7n(s)};bs.prototype={clone:function(){var h=this,K=new bs;return K.$8n=h.$8n&&h.$8n.clone(),K.front=h.front&&h.front.clone(),K.back=h.back&&h.back.clone(),K.$4n=h.$4n.map(function(o){return o.clone()}),K},$6n:function(){for(var H=this,n=0;n<H.$4n.length;n++)H.$4n[n].flip();H.$8n.flip(),H.front&&H.front.$6n(),H.back&&H.back.$6n();var V=H.front;H.front=H.back,H.back=V},$1n:function(C){var B=this;if(!B.$8n)return C.slice();for(var n=[],i=[],m=0;m<C.length;m++)B.$8n.$5n(C[m],n,i,n,i);return B.front&&(n=B.front.$1n(n)),i=B.back?B.back.$1n(i):[],n.concat(i)},$3n:function(j){var c=this;c.$4n=j.$1n(c.$4n),c.front&&c.front.$3n(j),c.back&&c.back.$3n(j)},$2n:function(){var c=this,X=c.$4n.slice();return c.front&&(X=X.concat(c.front.$2n())),c.back&&(X=X.concat(c.back.$2n())),X},$7n:function(H){var E=this;if(H.length){E.$8n||(E.$8n=H[0].$8n.clone());for(var h=[],m=[],i=0;i<H.length;i++)this.$8n.$5n(H[i],E.$4n,E.$4n,h,m);h.length&&(E.front||(E.front=new bs),this.front.$7n(h)),m.length&&(E.back||(E.back=new bs),E.back.$7n(m))}}};var vo="symbol",wg=L.Symbol=function(L,U,c){var C=this;d(wg,C),C.s3(20,20,20),C.s({"all.visible":!1,shape:"rect"}),C.setIcon(L,U,c)};W("Symbol",z,{setIcon:function(Z,c,w){var d,q=this;return wg.superClass.setIcon.call(q,Z),Z?(d={for3d:!0,face:"center",position:44,names:[Z]},w&&(d.transaprent=!0),c&&(d.autorotate=c),q.addStyleIcon(vo,d)):q.removeStyleIcon(vo),q.setWidth(Q.getImageWidth(n.getImage(Z),q)||20),d}});var ti=L.CSGNode=function(){d(ti,this),this.s({shape:"rect","attach.thickness":1.001})},jm={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};W("CSGNode",z,{_22Q:function(){return Pk},onPropertyChanged:function(C){var W=this,c=W.getHost();ti.superClass.onPropertyChanged.call(W,C),jm[C.property]&&(c instanceof $e||c instanceof ti)&&c.fp("csgNodeChange",!0,!1)}});var Pk=function(p,u){d(Pk,this,[p,u])};N(Pk,E.Node3dUI,{_80o:function(k,Y,V){var f=this;f._shape3d?Pk.superClass._80o.call(f,k,Y,V):(j(f.gv),Ng.forEach(function(H){M(f,k,Y,f[H],V)}))},validate:function(W,D){var m=this,E=m.gv,L=m.data;if(L.s("shape3d"))return Pk.superClass.validate.call(m,W,D),m._shape3d=!0,void 0;m._shape3d=!1;var B=v(L,E.getMat(L)),w=W&&W.uv;m.vf2("csg",w);for(var V=0;6>V;V++)for(var P=Od[V],O=Sc[V],i=m.vf2(P,w,D),z=i.mat||B,u=i.vs,N=i.uv,l=i.tuv,e=0;2>e;e++){var J=Y[O+3*e],F=Y[O+3*e+1],T=Y[O+3*e+2];if(X(u,z,[U[3*J],U[3*J+1],U[3*J+2]]),X(u,z,[U[3*F],U[3*F+1],U[3*F+2]]),X(u,z,[U[3*T],U[3*T+1],U[3*T+2]]),l)if(N){var c=8*V;l.push(N[2*J-c],N[2*J+1-c],N[2*F-c],N[2*F+1-c],N[2*T-c],N[2*T+1-c])}else l.push(o[2*J],o[2*J+1],o[2*F],o[2*F+1],o[2*T],o[2*T+1])}Pb(m,W,D)},vf2:function(h,U,n){var V,c=this,T=c.gv.getFaceVisible(c.data,h);return V=D(c,h,n),V.vs=[],V.tuv=T&&(V.texture||U)?[]:K,V.visible=T,V}});var $e=L.CSGShape=function(){var P=this;d($e,P),P.s({"shape.background":K,"shape.border.width":8}),P.setTall(240),P.setElevation(120),P.setThickness(14)};W("CSGShape",m,{IRotatable:!1,_22Q:function(){return Zm},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Zm=function(m,f){d(Zm,this,[m,f])};N(Zm,E.Shape3dUI,{_80o:function(J,R,_){var A=this;A.undrawable||(j(A.gv),Ng.forEach(function(E){M(A,J,R,A[E],_)}))},validate:function(F,H){var P=this,o=P.data,X=o.getPoints();if(P.undrawable=X.size()<2)return P.clear(),void 0;var t=o.isClosePath(),U=c(o._thickness/2,x),s=V(X,K,K,t);Ng.forEach(function(a){P.vf(a,F&&F.uv,!0,H)}),t&&(P.left.visible=!1,P.right.visible=!1),P._12O(s,U),P._20Q(s),Pb(P,F,H)}});var Ah=L.DoorWindow=function(){var E=this;d(Ah,E),E.setElevation(100),E.s3(100,200,14)};W("DoorWindow",ti,{IDoorWindow:!0,toggle:function(d){this.setExpanded(!this.s(T),d)},isExpanded:function(){return this.s(T)},setExpanded:function(p,z){var b=this,W=b.$25n,F=b.getDataModel(),h=b.s(T);if(W&&(W.stop(!0),delete b.$25n),h!==p){F&&F.beginTransaction();var X=p?b.s("dw.end"):b.s("dw.start");b.s(T,p),z=y(z),z?(h=b.s(a),z.action=function(k){b.s(a,h+(X-h)*k)},z.finishFunc=function(){F&&F.endTransaction()},b.$25n=u(z)):(b.s(a,X),F&&F.endTransaction())}},getMat:function(){var I=this,e=I.s("dw.s3"),m=I.s("dw.t3"),C=I.s("dw.flip"),r=I.s(a);if(e||r||m||C){var v=[];if(C&&v.push({r3:[0,l,0]}),e&&v.push({s3:e}),r){e=I.s3();var V=I.s("dw.axis"),c=e[0]/2,R=e[1]/2;e[2]/2,V===F?v.push({t3:[c,0,0]},{r3:[0,-r,0]},{t3:[-c,0,0]}):V===g?v.push({t3:[-c,0,0]},{r3:[0,r,0]},{t3:[c,0,0]}):V===P?v.push({t3:[0,-R,0]},{r3:[-r,0,0]},{t3:[0,R,0]}):V===p?v.push({t3:[0,R,0]},{r3:[r,0,0]},{t3:[0,-R,0]}):V===i?v.push({r3:[0,r,0]}):V===G&&v.push({r3:[r,0,0]})}return m&&v.push({t3:m}),h(v)}return K}});var Xl=L.CSGBox=function(){var m=this;d(Xl,m),m.setElevation(100),m.s3(100,200,100)};W("CSGBox",ti,{ICSGBox:!0,toggleFace:function($,V){this.setFaceExpanded($,!this.s($+C),V)},isFaceExpanded:function(q){return this.s(q+C)},setFaceExpanded:function(U,m,o){var A=this,N=A.$25n,$=A.s(U+C);if(N&&(N.stop(!0),delete A.$25n),$!==m){var K=m?A.s(U+".end"):A.s(U+".start");A.s(U+C,m),o=y(o),o?($=A.s(U+f),o.action=function(d){A.s(U+f,$+(K-$)*d)},A.$25n=u(o)):A.s(U+f,K)}},getFaceMat:function(y){var H=this,u=H.s(y+f);if(!u)return K;var s=H.s(y+".axis"),A=H.s3(),k=A[0]/2,Y=A[1]/2,x=A[2]/2,X=[];return y===S&&(s===F?X.push({t3:[k,0,-x]},{r3:[0,-u,0]},{t3:[-k,0,x]}):s===g?X.push({t3:[-k,0,-x]},{r3:[0,u,0]},{t3:[k,0,x]}):s===P?X.push({t3:[0,-Y,-x]},{r3:[-u,0,0]},{t3:[0,Y,x]}):s===p?X.push({t3:[0,Y,-x]},{r3:[u,0,0]},{t3:[0,-Y,x]}):s===i?X.push({t3:[0,0,-x]},{r3:[0,u,0]},{t3:[0,0,x]}):s===G&&X.push({t3:[0,0,-x]},{r3:[u,0,0]},{t3:[0,0,x]})),y===J&&(s===F?X.push({t3:[-k,0,x]},{r3:[0,-u,0]},{t3:[k,0,-x]}):s===g?X.push({t3:[k,0,x]},{r3:[0,u,0]},{t3:[-k,0,-x]}):s===P?X.push({t3:[0,-Y,x]},{r3:[u,0,0]},{t3:[0,Y,-x]}):s===p?X.push({t3:[0,Y,x]},{r3:[-u,0,0]},{t3:[0,-Y,-x]}):s===i?X.push({t3:[0,0,x]},{r3:[0,u,0]},{t3:[0,0,-x]}):s===G&&X.push({t3:[0,0,x]},{r3:[u,0,0]},{t3:[0,0,-x]})),y===F&&(s===F?X.push({t3:[k,0,x]},{r3:[0,-u,0]},{t3:[-k,0,-x]}):s===g?X.push({t3:[k,0,-x]},{r3:[0,u,0]},{t3:[-k,0,x]}):s===P?X.push({t3:[k,-Y,0]},{r3:[0,0,-u]},{t3:[-k,Y,0]}):s===p?X.push({t3:[k,Y,0]},{r3:[0,0,u]},{t3:[-k,-Y,0]}):s===i?X.push({t3:[k,0,0]},{r3:[0,u,0]},{t3:[-k,0,0]}):s===G&&X.push({t3:[k,0,0]},{r3:[0,0,u]},{t3:[-k,0,0]})),y===g&&(s===F?X.push({t3:[-k,0,-x]},{r3:[0,-u,0]},{t3:[k,0,x]}):s===g?X.push({t3:[-k,0,x]},{r3:[0,u,0]},{t3:[k,0,-x]}):s===P?X.push({t3:[-k,-Y,0]},{r3:[0,0,u]},{t3:[k,Y,0]}):s===p?X.push({t3:[-k,Y,0]},{r3:[0,0,-u]},{t3:[k,-Y,0]}):s===i?X.push({t3:[-k,0,0]},{r3:[0,u,0]},{t3:[k,0,0]}):s===G&&X.push({t3:[-k,0,0]},{r3:[0,0,u]},{t3:[k,0,0]})),y===P&&(s===F?X.push({t3:[k,-Y,0]},{r3:[0,0,u]},{t3:[-k,Y,0]}):s===g?X.push({t3:[-k,-Y,0]},{r3:[0,0,-u]},{t3:[k,Y,0]}):s===P?X.push({t3:[0,-Y,x]},{r3:[-u,0,0]},{t3:[0,Y,-x]}):s===p?X.push({t3:[0,-Y,-x]},{r3:[u,0,0]},{t3:[0,Y,x]}):s===i?X.push({t3:[0,-Y,0]},{r3:[0,0,u]},{t3:[0,Y,0]}):s===G&&X.push({t3:[0,-Y,0]},{r3:[u,0,0]},{t3:[0,Y,0]})),y===p&&(s===F?X.push({t3:[k,Y,0]},{r3:[0,0,-u]},{t3:[-k,-Y,0]}):s===g?X.push({t3:[-k,Y,0]},{r3:[0,0,u]},{t3:[k,-Y,0]}):s===P?X.push({t3:[0,Y,-x]},{r3:[-u,0,0]},{t3:[0,-Y,x]}):s===p?X.push({t3:[0,Y,x]},{r3:[u,0,0]},{t3:[0,-Y,-x]}):s===i?X.push({t3:[0,Y,0]},{r3:[0,0,u]},{t3:[0,-Y,0]}):s===G&&X.push({t3:[0,Y,0]},{r3:[u,0,0]},{t3:[0,-Y,0]})),h(X)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);